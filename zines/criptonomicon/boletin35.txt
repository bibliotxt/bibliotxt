Boletín del Criptonomicón
http://www.iec.csic.es/criptonomicon
Año I, nº 35
14 de enero de 1999

******************************************
Susurros desde la Cripta
  1. Los hackers, contra la ciberguerra

Las noticias de la semana
  2. Nuevos agujeros en Internet Explorer
  3. Noruega legaliza el hacking
  4. La nueva amenaza: “El Año Nuevo ruso”

Candados, cortafríos y otras herramientas
  5. Control de modificaciones con Tripwire

Parada y fonda
  6. Centro de Seguridad de Symantec

Consejos y trucos
  7. ¿Está tu PC a salvo en Internet?

Hablan los expertos
  8. Cortafuegos

Sobre el boletín del Criptonomicón
  9. Información sobre suscripción y cómo borrarse
10. Números atrasados

******************************************
Susurros desde la cripta

******************************************
1. Los hackers, contra la ciberguerra

La noche del martes 28 de diciembre una veintena de “hackers”
norteamericanos vio la luz y decidió emplear su tiempo en preparar un
ataque contra las redes informáticas de Irak y China. Fue todo muy
solemne. Uno de ellos, el que llevaba la voz cantante, mencionó la
Declaración de Independencia de Estados Unidos, y manifestó: “Tenemos
que hacer lo que el Gobierno no quiere, o no puede hacer. Estamos
preparados para empezar y tomar parte en la guerra electrónica, si se
nos pide”. No, no era una sección del Ku Kux Klan, ni una facción
paramilitar reunida en un rancho de Texas, imbuida de la sagrada
misión de librar a América del comunismo, los negros o los judíos.
Eran la “Legion of Underground”, también conocida como LoU, un grupo
de lunáticos, de una media de 20 años, que habían decidido emprender
una “ciberguerra”, dada la inoperancia, ya mítica, de los políticos de
Washington.

Enfrente, tenían una red informática de última generación, con
ordenadores de velocidad supersónica y unos desarrollos tecnológicos
del cuarto milenio. Para hacerse una idea de la inabarcable
superioridad tecnológica de Irak basta con asomarse a la página web
del Gobierno iraquí, http://www.iraq.net . Lo más moderno de la página
es, precisamente, que utiliza el protocolo “http”. La “Iraq Net
Information Network”, que así se presenta en el mencionado web, da una
idea del grado de heroísmo de LoU. Atacar un país como Irak, que no
recibe suministros informáticos desde que se declaró el embargo por la
Guerra del Golfo, con unas redes internas operadas por MCI, aunque
medio devastadas, es una estupidez. ¿A qué aspiraban, a dejar sin
ascensor el hospital de Bagdad? (En el caso de que lo tenga). ¿A
legitimar que se abriera la veda contra los hacker de medio mundo?

El 7 de enero, los hacker “normales”, los que están todo el día sumergidos
en
Internet, aprendiendo y sin agredir a nadie, emitieron una declaración
conjunta, deplorando este tipo de acciones “paramilitares”. “Estamos
radicalmente en contra de actos de “ciberguerras” y de dañar la
infraestructura de información de cualquier país. Hemos de mantener
las comunicaciones vivas. Son el sistema nervioso para el progreso de
la humanidad”, señalaba uno de sus miembros. El manifiesto difundido,
disponible en http://hispahack.ccc.de , iba respaldado por una
“coalición internacional de hacker en contra del ataque proclamado por
LoU”, formada por “!Hispahack”, “The Chaos Computer Club”, “The cult
of the dead cow”, “2600”, “The Chaos Computer Club”, “Lopht Heavy
Industries”, “Phrack” y “Pulhas”. “Declarar la guerra a un país,
citando violaciones de los derechos humanos, es lo más irresponsable
que un grupo de hacker puede hacer. Esto no tiene nada que ver con el
“hacktivismo” o las éticas de un hacker y es algo de lo que ningún
hacker debe sentirse orgulloso”, señalaba la declaración.

Uno de sus miembros, Frank Rieger, del Chaos Computer Club, advertía
que la policía y los servicios de inteligencia podrían tomar a los
hacker por sediciosos, y éstos “pudieran ser encarcelados o ejecutados
como “ciberterroristas” por la mínima infracción de la ley”. Enmanuel
Goldstein, de 2600, apostillaba que “LoU ha legitimado
inadvertidamente la propaganda alarmista de los gobiernos mundiales”,
“que intentan establecer el ciberespacio como un nuevo campo de
batalla para sus conflictos artificiales” (...) “Si los hacker
solicitan que se les reconozca como facciones paramilitares, entonces
el hacking en general se verá como un acto de guerra, y los hacker
serán vistos como objetivos legítimos de los estados contendientes”.

El mensaje de esta coalición, de cuya existencia ayer tuvimos
conocimiento, no pudo resultar más oportuno. En efecto, un paso en
falso, y los gobernantes hubieran tenido ya un pretexto inmejorable
para declarar como sediciosos y potenciales terroristas a miles de
internautas, con lo cual todo intento de control de la Red estaría
justificado. En Internet reina hoy un claro sentimiento social contra
las violaciones de derechos humanos, como las que practican las
autoridades de Pekín y Bagdad, pero no todo vale. Y menos si las
víctimas son ciudadanos indefensos, que ya tienen bastante con padecer
a los criminales que les gobiernan.

(Reproducido con permiso de Mikel Amigot, director de “La Brújula”,
http://labrujula.net)

******************************************
Las noticias de la semana

******************************************
2. Nuevos agujeros en Internet Explorer

El fin de año no estuvo demasiado tranquilo para los ingenieros
de Microsoft. Varios nuevos bugs, relativos a la seguridad de su
navegador, les están manteniendo entretenidos, aunque los cuarteles de
Netscape (y los usuarios de su navegador) tampoco deberían relajarse
demasiado, como mencionamos en este mismo artículo.

* 22 de Diciembre:

El ingeniero español Juan Carlos García Cuartango comunica el
nacimiento del “Nieto del Agujero de Cuartango”, que pone en evidencia
la fragilidad del segundo parche elaborado por Microsoft para este
persistente fallo:
http://pages.whowhere.com/computers/cuartangojc/gson2.html

* 23 de Diciembre:

Microsoft anuncia la publicación de un nuevo parche para el denominado
“Frame Spoof”, nueva debilidad que permite a un sitio web
malintencionado hacer aparecer un marco (‘frame’) falso en el
navegador de sus visitantes cuando visiten una página que contenga
‘frames’ auténticos. El atacante pide a los usuarios cualquier tipo de
información a través del ‘frame’ falso (que el usuario cree pertenece
al sitio legítimo), y ésta es enviada de vuelta al impostor. También
opera vía e-mail y el navegador de Netscape (y posiblemente otros) es
tan susceptible como -al menos hasta ahora- el de Microsoft.

Descubridores del fallo, con página de demostración:
http://www.securexpert.com/framespoof/

La información oficial de Microsoft está disponible en:
http://www.microsoft.com/security/bulletins/ms98-020.asp

Parches para Explorer:
http://www.microsoft.com/windows/ie/security/spoof.asp

Microsoft anuncia que este parche soluciona también el “Nieto del
Agujero de Cuartango”, y emplaza a los usuarios a instalarlo cuanto
antes.

Como dato curioso, el comunicado oficial de Microsoft agradece
expresamente a Cuartango su continuada colaboración en la detección y
solución de estos problemas.

(Reproducido con permiso de José Manuel Gómez, autor de Kriptopolis,
http://www.kriptopolis.com)

******************************************
3. Noruega legaliza el hacking

El Tribunal Supremo de Noruega ha decido que explorar de forma remota
ordenadores conectados a Internet no es un crimen.

Esta decisión sienta el precedente de que cualquier sistema conectado a
Internet (al menos los que se encuentren en Noreuega) pueden ser examinados
legalmente buscando fallos en la seguridad.

La decisión se deriva de un caso presentado por la Universidad de Oslo
frente a una compañía de seguridad privada, Norman Data Defence Systems
(NDDS). NDDS había sido contratada por un servicio de noticias noruego para
hallar agujeros de seguridad en sistemas conectados a Internet para un
programa de televisión.

La compañía usó un número estándar de técnicas para comprobar la seguridad
del sistema de correo electrónico de la universidad y determinar quien
estaba conectado a los ordenadores de la institución. NDDS afirma que los
tests se realizaron simplemente para ver qué información puede obtenerse
utilizando protocolos estándar de Internet. No se accedió a ningún dato
personal.

Sin embargo, la Universidad decidió llevar a los tribunales a la NDDS y al
ingeniero concreto que llevó a cabo los tests. Tanto la compañía como el
ingeniero fueron declarados culpables de intento de entrada ilegal y de
abuso de recursos informáticos a los que no tenían derecho de acceso. Se
puso una multa a la NDDS y se les ordenó pagar por la reparación de la red
de la Universidad.

Una primera apelación consiguió retirar la acusación de entrada ilegal y
ahora, en una segunda apelación, el Tribunal Supremo de Noruega ha retirado
también el cargo de abuso de recursos informáticos.

"La esencia de la decisión es que si quieres unirte a Internet, has de
asegurarte de que estás protegido", dijo el representante de la NDDS Gunnel
Wullstein. "Si no quieres que te visiten, cierra tus ports".

(Reproducido con permiso de FrEE Fronteras Electrónicas España,
http://www.arnal.es/free)

******************************************
4. La nueva amenaza: “El Año Nuevo ruso”

Amenaza para los usuarios que tengan instalado Excel 95 ó 97 en su
ordenador. Un ominoso fallo permite que un atacante consiga acceder a una
máquina que lo tenga instalado por medio de una combinación de HTML desde
una página visualizada con un navegador de Internet y la llamada CALL de
Excel. De hecho, Excel ni siquiera tiene que estar abierto para que el daño
sea perpetrado. Con esta combinación, el atacante podría robar o copiar los
ficheros privados de usuarios inocentes sin que se enteren en absoluto.

Todas las versiones de Microsoft Internet Explorer 3.x y 4.x y de Netscape
Navigator 3.x y 4.x (excepto Navigator 4.5) son vulnerables, así como
también aplicaciones de correo compatibles con HTML como Outlook98.

Existe un parche de Microsoft para Excel 97 que se puede aplicar sólo
después de haber instalado el Office 97 Service Release 1, the Office 97
Service Release 2, y el parche para la función "CALL". El parche se puede
encontrar en http://officeupdate.microsoft.com/downloadDetails/xl97cfp.htm .
El parche desactiva por completo la función CALL de Excel. Para los usuarios
de Excel 95, se recomienda que se actualicen a Excel 97 y apliquen el
consabido parche.

Para los usuarios de Netscape, basta con que se actualicen a la versión 4.5
de Navigator en www.netscape.com.

Más información en:

http://www.pcworld.com/cgi-bin/pcwtoday?ID=9244
http://www.pcworld.com/cgi-bin/pcwtoday?ID=9274

******************************************
Candados, cortafríos y otras herramientas

******************************************
5. Control de modificaciones con Tripwire

El paquete Tripwire, escrito por Gene Kim y Gene Spafford en la universidad
de Purdue para la mayoría de versiones de Unix, lee un fichero de
configuración con los ficheros y directorios que debe monitorizar y a
continuación rastrea cambios a la información y contenidos de los inode
(nodos índice, entradas básicas del sistema de ficheros).

Si este programa se corre con frecuencia, nos avisará de cambios
accidentales o deliberados en nuestro sistema de ficheros, que pueden
revelar la actividad de un atacante o el malhacer de un usuario inepto (o
perverso).

Se puede obtener una copia del paquete desde el sitio canónico de
distribución, en:

ftp://coast.cs.purdue.edu/pub/COAST/Tripwire

******************************************
Parada y fonda

******************************************
6. Centro de Seguridad de Symantec

La compañía Symantec, conocida especialmente por su software anti-virus, ha
creado unas completas páginas sobre seguridad en Internet, con consejos
sobre cómo configurar los navegadores y protegerse al navegar por Internet,
demostraciones espectaculares de contenido activo de ataque y mucho más.

No te lo pierdas en:

http://www.symantec.com/avcenter/security/

******************************************
Consejos y trucos

******************************************
7. ¿Está tu PC a salvo en Internet?

Applets hostiles de Java, controles Activex, piratas malvados y mucho más:
¿realmente hay una jungla salvaje ahí afuera en la Internet? En estas series
de respuestas y consejos encontrarás valiosas sugerencias para protegerte.

http://www.zdnet.com/zdtv/callforhelp/answerstips/story/0,3650,2178516,00.ht
ml

******************************************
Hablan los expertos

******************************************
8. Cortafuegos

Esta semana contamos con la colaboración en exclusiva de Luis Ventura Ruiz
(lventura@euskaltel.es), ingeniero de telecomunicación de Euskaltel con una
alta capacitación técnica y amplia experiencia en la instalación de
cortafuegos, que nos explicará qué son los cortafuegos, las clases existen,
cuáles son sus funciones y cómo se configuran políticas de seguridad
adecuadas.

CORTAFUEGOS

Antes de hablar de lo que representan los cortafuegos en el ámbito de la
seguridad en redes telemáticas convendría hablar un poco de qué se entiende
por ‘seguridad’. Puede haber múltiples definiciones de ‘seguridad’, no
obstante en este articulo se entenderá por seguridad en redes telemáticas a
la protección frente a ataques e intrusiones en recursos corporativos por
parte de intrusos a los que no se permite el acceso a dichos recursos. Por
estos recursos entenderemos tanto el acceso a una carpeta compartida en
servidor con NT, el acceso a los buzones de correo de los usuarios
corporativos, o incluso el acceso a una sesión de Telnet de un servidor UNIX
interno.

Antes de continuar se ha de hacer notar que tradicionalmente se ha dicho en
los ámbitos de seguridad en redes que el ordenador realmente seguro es aquel
que esta físicamente desconectado de todas las redes internas o externas
(sin ninguna tarjeta de red), tampoco tendrá disquetera (y en su caso
ninguna unidad de almacenamiento externo, como grabadores y lectores de
cintas, discos extraibles, etc.) o acceso a impresoras y se encontrará en
una habitación acorazada con un guardia jurado insobornable, y si este
ordenador está apagado mejor que mejor. Con esto quiero decir que la
seguridad siempre será relativa al tipo de servicios que queramos ofrecer a
los usuarios autorizados, según se establece en la política de seguridad de
la empresa.

La política de seguridad es (debería ser) un documento que está (debería
estar) firmado por la alta gerencia de la empresa y mediante el cual se
especifican distintos aspectos referentes a la seguridad informática de la
empresa. Estos aspectos pueden ser desde cuantas letras han de tener las
contraseñas de los usuarios corporativos y cada cuanto tiempo han de
cambiarlas, qué protocolos (Telnet, http, smtp, ftp, etc.) van a permitir
que hablen las máquinas internas con las externas y en su caso quien va a
poder iniciar la conexión, y hasta la política que se va a seguir para
permitir el acceso restringido a recursos internos.

Un cortafuegos nunca protegerá al cien por cien a estos recursos internos de
acceso no autorizados ya que las técnicas de intrusión avanzan día a día
(aunque el hardware y software de los cortafuegos también) y todos los días
se descubren nuevos fallos (bugs) en sistemas operativos y software de
servidores. Pero también es cierto que un cortafuegos BIEN CONFIGURADO junto
con servidores bien configurados y protegidos puede poner las cosas muy
difíciles a estos potenciales intrusos, por no decir imposibles (siempre
teniendo en cuenta la política de seguridad de la empresa y a la correcta
configuración de cortafuegos y servidores).

Así pues, nos adentramos en los sistemas cortafuegos. Los cortafuegos son
uno de las dos enfoques básicos que se han dado al aspecto de la seguridad
en redes telemáticas.

Estos dos enfoques han sido tradicionalmente la defensa en profundidad que
se caracterizaba por proteger cada una de las máquinas susceptibles a ser
accedidas por personas no autorizadas, y por otro lado la defensa perimetral
consistente en llevar toda la carga correspondiente a la seguridad en la red
corporativa al elemento de conexión de esta red corporativa con el exterior,
o con las redes en las que potencialmente se encuentren las personas que
puedan querer acceder a nuestros recursos de forma no autorizada, ya que
está demostrado que un tanto por ciento elevado de los fraudes informáticos
proceden del interior de las propias organizaciones.

Existen muchos tipos de cortafuegos, no obstante la clasificación más clara
quizás sería la que los diferencia según la forma de implementar la política
de seguridad de la empresa atendiendo al nivel de la capa OSI en la que se
implementa dicha política de seguridad.

En un primer lugar existen los cortafuegos de nivel 3 de la capa OSI, esto
es, de nivel de red o lo que es lo mismo, nivel IP en redes TCP/IP como
Internet. Estos cortafuegos pueden ser considerados como filtros de paquetes
ya que lo que realizan a fin de cuentas es un filtrado de los intentos de
conexión atendiendo a direcciones IP origen y destino y puerto de destino de
los paquetes IP. Esto quiere decir que en la política de seguridad de la
empresa podremos indicar que sólo dejaremos pasar paquetes destinados al
puerto 25 (puerto de SMTP para correo electrónico) de nuestro servidor
corporativo. También podremos especificar desde qué direcciones IP origen
dejaremos acceso a nuestros servidores públicos. Este tipo de cortafuegos
vienen implementados en la mayoría de routers comerciales.

Otra posibilidad de implementación de cortafuegos es a nivel 4 de OSI, esto
es a nivel de transporte o de TCP en redes TCP/IP. En este nivel ya se puede
atender a aspectos de si los paquetes son de inicio de conexión o se
corresponden con paquetes cuyas conexiones están ya establecidas.

A grandes rasgos los cortafuegos a nivel de circuitos ya tratan con números
de secuencias de paquetes TCP/IP. Si los paquetes pertenecen a una conexión
o si no se corresponden con ninguna conexión establecida.

Por último nos quedan los cortafuegos a nivel 7 de la capa OSI, esto es, a
nivel de aplicación. Estos cortafuegos actúan a modo de proxy para las
distintas aplicaciones que van a controlar. Por de pronto ya se ve que con
estos cortafuegos no será posible dejar pasar todos los protocolos (al menos
de manera segura, esto es, no es frecuente ver cortafuegos a nivel de), pero
lo que sí es cierto es que podremos llegar al detalle en cuanto a la
posibilidad de implementar políticas de seguridad para estos protocolos.

Lo normal es contar con cortafuegos a nivel de aplicación para los
protocolos más frecuentes en Internet: telnet, ftp , http, e incluso para
menos frecuentes como pop3, rlogin, sqlnet, etc.

Con estos cortafuegos podremos configurar a nivel de aplicación esto es:
para SMTP podremos decir que sólo se acepta correo entrante cuando la
dirección de destino sea <alguien>@nuestro.dominio.corporativo o que sólo
acepte correo saliente cuando la dirección origen sea
<alguien>@nuestro.dominio.corporativo evitando así los conocidos parásitos
de servidores correo conocidos como spammers.
Para HTTP podremos evitar que las páginas que descarguen nuestros usuarios
corporativos tengan controles Activex o applets de Java, o incluso
denegarles el acceso a ciertas URL’s que se consideren improcedentes.
Para FTP podremos permitir el acceso a servidores sólo a cierto directorio y
solo para realizar envíos o descargas de ficheros.

Otras funciones adicionales que pueden realizar los cortafuegos es la de
ocultar el rango de direccionamientos internos de nuestra corporación,
realizando una traducción de direcciones o NAT (Network address
translation). De esta manera es posible contar con sólo una dirección (o un
rango reducido de direcciones válidas en Internet) y contar con un gran
número de direcciones privadas (de acuerdo a la famosa RFC 1918) para las
máquinas internas no enrutables en Internet.

También es normal que sean capaces de detectar ataques del tipo IP spoofing,
de forma que se asocia a cada interfaz una serie de direcciones origen
permitidas, de forma que no se le pueda hacer creer al cortafuegos que desde
la interfaz externa vienen paquetes con dirección IP origen una máquina
interna en la que se confía.

Otra de las características que pueden tener es la de detectar ataques de
SYN flooding mediante el cual alguien inunda nuestros servidores con
paquetes de inicio de conexión sin llegar a terminar la negociación de
establecimiento de conexión que se establece en TCP. Con lo cual se llena la
cola de conexiones pendientes de nuestro servidor y ya no responde a
peticiones de inicio de conexión legítimas.

También se ha de comentar que una de las funcionalidades más importantes de
los cortafuegos es la de la facilidad de gestión del log de conexiones. Es
atendiendo a este log donde se podrá observar que nuestra red interna esta
siendo escaneada y que puede estar sometida a un ataque organizado desde
algún lugar en Internet.

Por último volver sobre la importancia de disponer de una correcta política
de seguridad en la empresa. Ya que de ella dependerá el grado de seguridad
frente al uso indebido de los recursos corporativos. Esta política de
seguridad debería implicar a todos los miembros de la empresa mediante la
formación de sus empleados en cuanto a la importancia de que sus contraseñas
de usuario sean seguras (no susceptibles a ataques de fuerza bruta o
fácilmente adivinables), de que apaguen sus ordenadores cuando se ausenten
de sus sitios o protejan sus escritorios, e incluso de que tengan cuidado
con sus disquetes u hojas impresas con información sensible (no sería la
primera vez que se reutiliza hojas con información de proyectos estratégicos
de empresas). Todo esto depende del grado de seguridad (o de paranoia) que
se quiera reflejar en la política de seguridad de las empresas, y variará
mucho de unas empresas a otras.

En todo caso la política de seguridad debería proponer una mezcla de los dos
enfoques que hacía referencia anteriormente: Defensa perimetral con un
cortafuegos bien configurado de acuerdo con la política de seguridad de la
empresa y defensa en profundidad de los servidores que vayan a ser accedidos
desde las redes públicas.

Los servidores de Web deberían estar protegidos frente a ataques típicos
realizados contra estos servidores: stack overflow de sus cgi’s, posibilidad
de acceder al document root de la máquina y poner un documento HTML no
legítimo, etc.

Lo mismo se puede decir de los servidores FTP, servidores de correo e
incluso servidores de DNS, todos ellos con sus bug’s característicos
dependiendo de la versión y plataforma sobre la que corren (NT o UNIX), pero
a medida que se descubre un bug se publica el parche para el servidor
correspondiente, y es labor del administrador de la red el estar al tanto de
estos parches, ya que el cortafuegos puede estar bien configurado y dejar
pasar peticiones de DNS a nuestro servidor de DNS, pero nuestro servidor de
DNS puede ser susceptible a ataque de tipo DNS spoofing, por el cual se le
puede llegar a hacer creer a nuestro servidor DNS que
www.web_al_que_accede_nuestra_organización.com
Sitio web al que accedemos diariamente y que nos pide un password de entrada
, es en realidad
www.web_malicioso_para_capturar_passwords.com
y que entreguemos muchas de nuestras passwords a alguien en Internet. Y todo
esto con nuestro cortafuegos bien configurado.

******************************************
Sobre el boletín del Criptonomicón

******************************************
9. Información sobre suscripción y cómo borrarse

Para borrarse de este servicio basta con enviar un correo a la dirección
cripto-request@iec.csic.es con el siguiente mensaje (sin asunto o
"subject"):

leave

desde la misma cuenta de correo en la que recibís el boletín.

Tenéis más información y números atrasados en la página

http://www.iec.csic.es/criptonomicon/suscripcion.html

******************************************
10. Números atrasados

Podéis encontrar los números atrasados del boletín en:

http://www.iec.csic.es/criptonomicon/suscripcion.html

Se pueden recuperar todos en formato ZIP o de uno en uno.

******************************************
(C) Copyright 1999 Criptonomicón
http://www.iec.csic.es/criptonomicon

Un servicio ofrecido libremente desde el Instituto de Física Aplicada del
CSIC por Gonzalo Álvarez Marañón
email: criptonomicon@iec.csic.es

Todos los trabajos, artículos, comentarios u opiniones de los colaboradores
de Criptonomicón son de su exclusiva responsabilidad, siendo ellos los que
responden de la veracidad y exactitud de sus aportaciones. Criptonomicón
agradece las mencionadas colaboraciones, pero no comparte necesariamente las
opiniones manifestadas. Asimismo, es responsabilidad del lector descargar,
instalar y ejecutar en su propio sistema los programas que se mencionen en
el Criptonomicón.

