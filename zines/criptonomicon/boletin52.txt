-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Boletín del Criptonomicón
http://www.iec.csic.es/criptonomicon
Año II, nº 52
23 de junio de 1999

******************************************
Susurros desde la Cripta
  1. 50 días de Declaración de Renta por Internet

Las noticias de la semana
  2. Nuevo gusano de Internet
  3. Troyano descubierto por un español
  4. La noticia de HispaSec: Grave problema de seguridad en Internet
Information Server 4.0

Candados, cortafríos y otras herramientas
  5. Criptografía fuerte para Apache

Parada y fonda
  6. Servidores seguros

Consejos y trucos
  7. ¿Estamos seguros con SSL?

Virus y otros bichos
  8. Verdades y mentiras

Comentarios de los lectores
   9. Más formas de infección con virus
  10. Sobre ENFOPOL
  11. Declaración a través de Internet

Hablan los expertos
  12. El azar en la criptografía

Sobre el boletín del Criptonomicón
  13. Información sobre suscripción y cómo borrarse
  14. Números atrasados
  15. Firma PGP

******************************************
Susurros desde la cripta

******************************************
1. 50 días de Declaración de Renta por Internet

Como se anunció en el boletín #49, la Agencia Tributaria Española ha
sido pionera en la implantación de un nuevo servicio telemático
avanzado, que permite la presentación de la Declaración de la Renta a
través de Internet. En este editorial, se publicará una entrevista
mantenida con Sergio Ramón Ruiz Mahillo, responsable del proyecto
CERES de la Fábrica Nacional de Moneda y Timbre (FNMT,
www.cert.fnmt.es), el pasado lunes 21 de junio.

La FNMT es la responsable de prestar los servicios técnicos y
administrativos necesarios para garantizar la seguridad, validez y
eficacia de la emisión y recepción de comunicaciones y documentos a
través de técnicas y medios electrónicos, informáticos y telemáticos
en el ámbito de las relaciones que se produzcan, en el caso de la
Declaración de la Renta, entre las personas físicas y jurídicas con la
Administración General del Estado.

El proyecto CERES (CERtificación ESpañola) tiene por objetivo
establecer una Entidad Pública de Certificación, que permita
autenticar y garantizar la confidencialidad de las comunicaciones
entre ciudadanos, empresas u otras instituciones y administraciones
públicas a través de las redes abiertas de comunicación, prestando así
de manera segura los servicios mencionados anteriormente.

A continuación se reproduce la parte fundamental de la entrevista:

C - Se acerca el momento de finalización de presentación de las
declaraciones. ¿Cuál es su valoración general de la experiencia hasta
la fecha?

S.R.R. - En cuanto al proyecto en sí, te diré que la experiencia ha
sido realmente satisfactoria. Ni los más optimistas pensaban que se
superasen los 10.000 certificados y las 10.000 declaraciones
presentadas y las cifras son éstas a fecha de hoy.

C - ¿Podría dar algunas cifras respecto a la demanda ciudadana del
servicio de certificación?

S.R.R. - Se han realizado 30641 solicitudes de certificado en el web
de la FNMT, de los cuales se acreditaron en las oficinas de la AEAT
15723 y como resultado se emitieron 14863 certificados (la diferencia
se debe a errores en la solicitud por realizar múltiples peticiones
para un mismo NIF, aportar datos incorrectos, reemisión de
certificados tras hacer una revocación que son solo contabilizados una
vez, etc.) A la fecha se habían presentado más de 17300 declaraciones
(el número es superior al de certificados por presentadores colectivos
autorizados)

El servicio de atención al usuario de la FNMT ha contestado 1881
solicitudes de información vía mail y mas de 800 llamadas telefónicas
y nuestro web, en la parte de la renta, ha tenido mas de 130.000 hits.

C - Las cifras son realmente asombrosas, si tenemos en cuenta el nivel
de "cultura Internet" de nuestro país. ¿Cuál es su impresión sobre
estas cifras?

S.R.R. - Además de los números, que dicen bastante, mi impresión
personal es la siguiente: La FNMT ha prestado un servicio eficaz tanto
en la emisión de certificados como en la atención a usuarios, se
podría decir que en un porcentaje muy alto, se ha rozado la
excelencia, entendida en los términos de calidad "cuando se superan
las expectativas del cliente", pero esto no nos puede dejar dormidos
en los laureles, de hecho está próxima una nueva emisión de
certificados para la presentación de diferentes modelos de impresos
por las PYMES y para entonces tendremos que mejorar algo muy
importante, la formación.

Criptonomicón - ¿Cuáles son los problemas más importantes a los que se
han enfrentado desde la FNMT?

S.R.R. - Los principales problemas han venido de la forma en que
Microsoft gestiona los certificados. El porcentaje de problemas se
reparte de forma abrumadora entre Microsoft con mas del 80% y Netscape
con el resto, en este último caso lo normal eran problemas de olvido
de password que obviamente no podíamos solventar. Para intentar
eliminar al máximo estos problemas, intentaremos reducir el plazo al
máximo posible y dar un información mayor. Los problemas achacables al
proceso están ya en vías de solución y en muchos casos se han
solucionado durante la campaña.

C - ¿Cómo valoraría los puntos fuertes y débiles del proyecto de cara
a la respuesta de los usuarios?

S.R.R. - Nuestro éxito se ha debido en gran medida a la meticulosidad
de las explicaciones que se han dado al usuario, pero esto mismo nos
ha producido algunos problemas. Cuando iniciamos el proyecto
pensábamos que solamente solicitarían certificados aquellas personas
mas familiarizadas con Internet, por eso nuestras previsiones eran
bajas, y eso ha sido un error de cálculo. Yo mismo he guiado a algún
usuario a través del proceso, que no sabía borrar o renombrar un
fichero, no sabía lo que era un directorio, etc. Tenemos muchas
anécdotas, desde aquel que nos felicita efusivamente, hasta el que nos
descalifica por errores propios o ajenos, pasando por el que nos
preguntaba si tenía que comprar el certificado en un estanco. Ahí
estuvo nuestro punto flaco, en la formación, hemos dado un nivel de
información bueno aunque mejorable, pero haciendo autocrítica no hemos
sabido "formar" a la gente.

C - ¿Qué enseñanzas han obtenido de esta primera experiencia?

S.R.R. - Nadie nace sabiendo y estos procesos novedosos son poco
conocidos. Cuando estábamos realizando la información, pensábamos en
que personas de la edad y conocimientos de nuestros propios padres o
abuelos pudieran hacer la declaración por Internet y por eso pusimos
pantalla a pantalla lo que se encontrarían. Esto ha funcionado bien,
pero para el futuro inmediato debemos hacer un ejercicio de formación,
explicar qué es un certificado, qué es una firma digital, cómo se
genera, qué son las claves, etc. Esto no es fácil hacerlo en un
lenguaje sencillo y para el ciudadano medio, pero lo intentaremos para
la próxima y ahí necesitamos la ayuda de todos aquellos que lo hacéis
desde diversos medios.

(Quiero expresar mi agradecimiento a Sergio Ramón Ruiz Mahillo,
responsable del proyecto CERES de la FNMT, por su amable
colaboración.)

Opina sobre este tema. Envía tus comentarios a
criptonomicon@iec.csic.es.

******************************************
Las noticias de la semana

******************************************
2. Nuevo gusano de Internet

Worm.ExploreZip es un gusano que se sirve de Microsoft Outlook,
Outlook Express y Exchange para enviarse a sí mismo, contestando a
mensajes sin leer en tu bandeja de entrada. El gusano también busca
instalaciones de Windows en las unidades mapeadas y en red para
copiarse a sí mismo en el directorio Windows y modificar el WIN.INI.

Más información sobre el gusano en:

http://www.symantec.com/avcenter/venc/data/worm.explore.zip.html

******************************************
3. Troyano descubierto por un español

Un nuevo troyano

Julio César Hernández, Consultor de Seguridad de IP6 Seguridad, ha
descubierto un nuevo troyano (el primero descubierto por un español)
que puede suponer una grave amenaza para la seguridad de los usuarios
de Internet.
De una forma resumida, indicaremos aquí los principales puntos de su
análisis:


El Troyano

- - El troyano utiliza un programa llamado WinSATAN para engañar a la
víctima y para tratar de pasar desapercibido. El programa WinSATAN  se
supone que es "una versión para Windows de la herramienta de auditoría
de seguridad para Unixes SATAN". Lo cierto es que suena lo
suficientemente atractivo como para atraer a muchas víctimas
potenciales. Aunque el troyano ha sido descubierto dentro del programa
WinSATAN, no podemos descartar que utilice otros programas para
difundirse.
- - El troyano se obtuvo en
http://music.acmecity.com/orchestra/29/WinSATAN.zip
- - Ninguna de las únicamente tres funcionalidades del programa WinSATAN
funcionó correctamente durante nuestras pruebas. Esto podría ser un
indicio de que, quizá, el programa WinSATAN fue concebido
exclusivamente para difundir el troyano.
- - Para instalar el troyano basta con ejecutar una única vez el
programa WinSATAN que, sigilosamente, instala un programa llamado
fs-backup.exe en el directorio c:\windows de la máquina de la víctima.
Además, añade una clave en el Registry, concretamente en
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run con
el nombre, aparentemente inocente, de RegisterServiceBackup que apunta
hacia c:\windows\fs-backup.exe y que permite que éste programa se
ejecute cada vez que la máquina reinicia Windows. La ejecución del
troyano no deja ningún rastro ni en la barra de tareas ni en  el
SystemTray, ni puede verse ejecutando un CTRL+ALT+Del.
- - Con la ayuda de herramientas como Sniffit, tcpdump y un editor
hexadecimal puede observarse que el troyano, en cuanto se inicia,
trata de conectarse a alguno de los servidores de IRC que tiene
predefinidos en su código, y que son:

irc.stealth.net
irc.webbernet.net
ircnet.sprynet.org
irc.univ-lyon.fr
irc.rus.uni.stuttgart.de
eu.ircnet.org
us.ircnet.org
web.im.tut.fi

- - El mensaje que envía al primero de estos servidores de IRC con que
consigue conectarse es el siguiente: " Online!. I am <aquí pone el
nombre de dominio de la máquina infectada>. I use Windows 95, my CPU
is an Intel Pentium ". Este mensaje es enviado, de forma alternativa,
a dos usuarios del servidor IRC que están casi siempre conectados
utilizando un Privmsg. Esos usuarios son scroll y scroll1. No hace
falta mencionar que esto expone de manera  muy seria a la máquina
infectada a cualquier ataque que el que el autor del troyano haya
programado en su código, además de ofrecerle a este un buen método
para mantenerse en el anonimato. Habría que dedicar quizá algo más de
tiempo a hacer un debug completo del código para saber exactamente en
qué consisten estas amenazas. En cualquier caso, no parece aventurado
adelantar que el troyano es, potencialmente, muy peligroso: no tendría
demasiado sentido que su autor se hubiese tomado tantas molestias sólo
para conectar a sus víctimas al !
IRC.
- - Por cierto, el código del troyano está escrito en Delphi y utiliza
algunas de las librerías de comunicaciones de FPiette.
- - En principio, sólo las máquinas Windows 3.x/95/98 pueden ser
infectadas por el troyano. Parece que hay un error en el código (o
quizá, simplemente no se pensó para esta plataforma) que impide que se
ejecute correctamente en Windows NT 4.0 (en concreto, no puede
añadirse adecuadamente la key en el Registry).


Diagnóstico

Lo más sencillo es hacer un "netstat -an" desde el DOS y observar si
en la lista de conexiones hay alguna extraña a un servidor IRC ( algo
así como 165.121.1.47:6667 ). Si eso ocurre ( y no estamos usando un
cliente de IRC como mIRC, claro ) puedes comenzar a rezar.
Una buena estrategia es, también, buscar un ejecutable en C:\windows
llamado fs-backup.exe ( algo así como 366 Kbs ). Si lo tienes,
considera seriamente la posibilidad de ponerte bajo la admonición de
alguna Virgen, porque estás infectado.
En cualquier caso, merece la pena darse un paseo por la clave
HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run para
ver si tenemos alguna entrada innecesaria. Esta clave es muy usada por
los diferentes troyanos que pululan por la red, así que nunca está de
más. En nuestro caso concreto, como ya hemos comentado antes, hay que
buscar una entrada llamada RegisterServiceBackup que apunta a
c:\windows\fs-backup.exe
Por aquello de dar su oportunidad a todo el mundo, hemos probado con
tres de los antivirus más famosos del mercado. La conclusión no puede
ser más descorazonadora: ninguno de los tres es capaz ni siquiera de
detectar el troyano por muy en las narices que se le ponga, ni
siquiera utilizando los tan cacareados métodos heurísticos de
búsqueda. En concreto, utilizamos los renombrados McAfee VirusScan
4.0.3 con la última actualización disponible ( del 6 de Junio ) y
añadimos búsqueda heurística. También probamos con el reputado
Antiviral Toolkit Pro 3.01.29 con la última actualización disponible (
en este caso del 9 de Junio, y con el Panda Platinum 6.0 con
heurística después de bajarnos por Internet la última actualización.
Ninguno detectó nada. No hay que fiarse de ellos para detectar
troyanos.


Desinfección

¡No puede ser más simple! Sólo hay que borrar el archivo fs-backup.exe
que está en c:\windows. Si tienes dificultades borrándolo porque está
en ejecución, lo más rápido es salir de windows indicando que queremos
reiniciar en modo MS-DOS. Así, el archivo no estará en ejecución y
podremos borrarlo sin ningún tipo de impedimentos.
Lo único que nos queda por es borrar la entrada del Registry que hacía
que se reiniciara cada vez que arranca Windows. Es sencillo, pero como
podéis imaginar, no me responsabilizo de lo que hagáis con vuestras
manazas.


Nota Final

Aunque este análisis podría ser más completo, esperamos que resulte
útil a alguno de vosotros. En cualquier caso, animamos desde aquí a
cualquiera a que siga estudiando este troyano y haga públicas sus
conclusiones, en beneficio de todos.
Por cierto, quiero agradecer a mi amigo Alfonso Lázaro Téllez su
colaboración, imprescindible y amable, en el análisis del troyano.

(Reproducido de un correo enviado por Chelo Malagón a la lista
CERT-ES)

******************************************
4. La noticia de HispaSec: Grave problema de seguridad en Internet
Information Server 4.0

Se acaba de hacer público un nuevo agujero en Internet Information
Server 4.0 para Windows NT 4.0. Un gran número de servidores pueden
verse afectados por un problema de sobrecarga de buffer.

Es posible que un 90% de los servidores NT con IIS 4 (option Pack 4)
se vean afectados por este problema. eEye Digital Security Team
advierte del peligro de la existencia de un ataque por sobrecarga de
buffer a través del servidor web, que puede posibilitar desde la
denegación de servicios hasta la ejecución remota de código.

La noticia completa en:

http://www.hispasec.com/unaaldia.asp?id=232

******************************************
Candados, cortafríos y otras herramientas

******************************************
5. Criptografía fuerte para Apache

El módulo mod_ssl proporciona criptografía fuerte para el servidor web
Apache 1.3 a través de los protocolos Secure Sockets Layer (SSL v2/v3)
y Transport Layer Security (TLS v1), con la ayuda del toolkit de
SSL/TLS OpenSSL de código abierto, que está basado en SSLeay.

Este paquete tiene licencia tipo BSD, por lo que su obtención y uso
resultan gratuitos, tanto con fines comerciales como no comerciales.
Mucha más información en:

http://www.modssl.org/


¿Conoces alguna buena herramienta gratuita de seguridad que aún no
haya sido reseñada? Infórmame sobre su existencia escribiéndome a
criptonomicon@iec.csic.es.

******************************************
Parada y fonda

******************************************
6. Servidores seguros

¿Que todavía no sabes qué es un servidor seguro o cómo darte cuenta de
si estás en uno? No te preocupes, en esta web te guiarán paso a paso
por uno y te enseñarán todo lo necesario a nivel de usuario para saber
cuándo tus datos están protegidos por cifrado usando canales SSL.

http://nora.net/e-comercio.ssl/


¿Conoces alguna página web sobre seguridad y criptografía
(preferiblemente en castellano) que sea imprescindible y que yo aún no
haya mencionado? Házmela llegar. Envía la dirección de tu página
favorita a criptonomicon@iec.csic.es.

******************************************
Consejos y trucos

******************************************
7. ¿Estamos seguros con SSL?

Debido a la limitación de exportación del gobierno de los Estados
Unidos sobre los productos criptográficos, las versiones de los
navegadores distribuidas legalmente más allá de sus fronteras operan
con nada más que 40 bits de clave, frente a los 128 ó 256 bits de las
versiones fuertes. Claves tan cortas facilitan los ataques de fuerza
bruta por búsqueda exhaustiva de claves, pudiéndose descifrar mensajes
cifrados en estas condiciones tan desfavorables en cuestión de horas o
días, dependiendo de los recursos informáticos disponibles.

Al menos para aplicaciones financieras las restricciones de
exportación se relajan, permitiendo hacer uso de criptografía fuerte.

Si utilizas versiones de los navegadores 4.x o superiores, entonces al
conectarte a tu banco para operaciones de telebanca, tu navegador
utilizará automáticamente claves de 128 bits, estableciéndose un canal
de comunicaciones completamente seguro.

Cuando navegues por un sitio seguro con Netscape Communicator,
encontrarás tres indicaciones de que estás en un sitio seguro: un
candado cerrado en la barra de herramientas, otro en la parte inferior
izquierda de la barra de estado y el cambio al protocolo https, en la
ventana de dirección. Para saber con cuántos bits de clave está
utilizando tu navegador, pincha en el candado de la barra de estado.
Se abrirá una ventana llamada información sobre seguridad. Pulsa el
botón "Abrir información sobre página" y en esta nueva ventana verás
una línea titulada "Seguridad". Ahí se te informa del algoritmo de
cifrado y del número de bits de clave. Si es 40, entonces tu canal no
es en absoluto seguro.

Cuando navegues por un sitio seguro con Internet Explorer, encontrarás
dos indicaciones: un candado cerrado en la parte inferior central de
la barra de estado y el cambio al protocolo https, en la ventana de
dirección. Para saber con cuántos bits de clave está utilizando
Internet Explorer, no tienes más que pasar el ratón por encima, sin
necesidad de pinchar en él. Si haces doble clic, aparecerá una ventana
con información sobre el certificado del sitio web seguro. En el campo
"Tipo de encriptación" se dan los detalles de algoritmos y longitud de
claves.


Más consejos y trucos en:

http://www.iec.csic.es/criptonomicon/consejos/

Participa enviando tus consejos y trucos a criptonomicon@iec.csic.es.

******************************************
Virus y otros bichos

******************************************
8. Verdades y mentiras

Nueva sección realizada por José Luis López (jllopez@nativo.com)

Ud. debe tener en cuenta que los virus, son meramente programas
escritos para crear copias de sí mismos y para infectar a otros
programas. Estos programas infectados pueden ser códigos ejecutables
que contienen archivos (comúnmente .COM o. EXE) o sectores de booteo.
La única manera para que cualquier virus puede infectar su PC es si
ejecuta uno de estos programas o bootea su computador desde un
disquete con el sector de booteo infectado. Esto es así de sencillo,
pero hay muchos mitos y desinformación al respecto de los virus, y eso
hace que a veces las cosas no parezcan ser tan sencillas. Estos mitos
son perjudiciales tan solo si Ud. se los cree.

¿Y cuáles son los mitos más comunes?. Veremos algunos de ellos.

====================================
¿Creería usted que un virus puede infectar sus archivos sin cambiar un
solo byte al archivo?
====================================

¡Bueno, esto es verdad! Algunos virus infectan sus archivos
localizando un nombre similar al del programa a infectar (generalmente
.EXE). El virus crea entonces otro archivo con el mismo nombre pero
terminado en ".COM" (si usted no indica la terminación, el sistema
operativo ejecuta los .COM con preferencia a los .EXE), y este .COM
contiene el código de infección. El virus puede colocar este archivo
en el mismo directorio o en otro directorio indicado en el PATH del
DOS. Digamos que un virus de este tipo se ejecuta (residente) en su PC
y decide que es tiempo de infectar un archivo. Hace un examen buscando
un archivo .EXE ("WP.EXE" por ejemplo). Entonces crea un archivo
llamado "WP.COM" que contiene el virus. Si usted escribe solo "WP" y
pulsa ENTER, el DOS ejecutará "WP.COM" en vez de "WP. EXE". El virus
se ejecuta, y posiblemente infecte más archivos y luego carga y
ejecuta "WP.EXE". El usuario probablemente no advierta nada malo. Este
tipo de virus es afortunadamente fácil de descubrir por la presencia
de estos archivos extras. Existen algunos casos dónde es normal tener
ambos ".COM" y ".EXE" pero esto es relativamente raro. También es
posible para un virus el suplantar archivos .COM o. EXE por archivos
de lote . BAT, pero es poco probable que esta sea una estrategia
efectiva. Si usted usa algún reemplazo de COMMAND.COM, como NDOS o
4DOS, existe un riesgo adicional de que un virus suplante los archivos
.BTM.

******************************************
Comentarios de los lectores

******************************************
9. Más formas de infección con virus

Y en la sección llevada por José Luis Lopez, específicamente en la
sección
de verdades y mentiras se hacia referencia a "¿Los virus sólo
infectan. .com
y .exe?"

El señor López comentaba que se infectaban aparte de los .COM y .EXE
también los .BIN y .SYS, además de los .BAT y los macros de Excel y
Word.

Yo quería agregar lo que el señor López ha olvidado, que puede ser
interesante que quienes lean este tan prestigioso boletin y deberían
estar informados correctamente.

Se pueden crear virus en los Dinamics Link Libraries o .DLL, los
controles Activex (.OCX), inclusive la combinación de ambos, Activex
DLL, el mejor ejemplo se observa en la estructura del funcionamiento
del Happy99 también reseñado en una emisión anterior de Criptonomicón
el cual cambia el WinSock.DLL que es el archivo plataforma del
internet en los PC con Windows 95 o superior. Hay que recordar que en
principio se puede infectar cualquier archivo que sea ejecutable por
Windows.

También debo comentar que aparte que Excel y Word pueden ser
infectados por virus, en teoría cualquier aplicación de Office puede
ser infectada por un virus, de hecho cualquier aplicación que soporte
Visual Basic para Aplicaciones (VBA), puede ser infectado con virus y
en este caso son llamados Macro Virus, porque residen en una parte de
la aplicación que permite la ejecución de Macros.

(Comentario remitido por Asdrubal Velasquez, yv6esd@comports.com)

******************************************
10. Sobre ENFOPOL

Me parece terrorífico que representantes que, en principio, defienden
las libertades de los ciudadanos canten todos al unísono la misma
copla que dice que el Estado me puede pinchar el télefono o leer mi
correo cuando mejor le parezca sin pedir permiso a nadie.

Pero, como dice el artículo, es posible que no supieran lo que estaban
votando, más terrorífico aún. Si en un tema tan sensible como este
resulta que dicen que sí sin saber lo que aprueban me queda la duda de
si son muchas las votaciones de este tipo donde no se sabe lo que se
aprueba o desaprueba.

(Comentario remitido por Pedro Gámez, pgamezh@hotmail.com)

******************************************
11. Declaración a través de Internet

Me gusta la innovación, por lo que me dispuse a probar: me fui a
Hacienda para poder obtener el certificado. Luego lo descargué y lo
instalé en mi navegador (RSA-512b: nivel de seguridad medio).

Usé el programa padre y generé el documento.

Cuando traté de conectarme a la web de la AEAT, mediante conexión
segura SSL por el puerto 8000, no paraba de darme errores
(posiblemente debido a cuestiones del firewall por el que salgo,
supongo que no permite SSL por dicho puerto). Llamo por teléfono a la
AEAT y no me explican lo que he de hacer. Me conecto a un proxy y pasa
lo mismo. Instalo un módem y logro conectarme pero me piden el NRC
(¿para qué, si ya indico mi número de cuenta bancaria? ¿Por qué no
comprueban si dicha cuenta existe y me envían la confirmación de forma
diferida?).

En el servicio telefónico de mi banco (mejor no digo cuál) no tienen
ni idea del NRC (desde luego, esto es problema de mi banco). Vuelvo a
llamar a la AEAT y me dicen que mi banco ha de haber firmado un
convenio para poder darme el NRC: mi banco no lo tiene (vaya ... de
banco).

Resultado: imprimo la declaración, voy al banco y en 2 minutos he
acabado.

Moraleja: no la tengo clara, pero no es favorable para la AEAT.

El próximo año: preguntaré a alguien que lo haya hecho si funciona y
se tarda menos de 1/2 hora. Si no es así, vuelta al método
tradicional.

(Comentario remitido por Carlos J. Gil Machin)


Participa enviando tus comentarios a criptonomicon@iec.csic.es.

******************************************
Hablan los expertos

******************************************
12. El azar en la criptografía

Esta semana contamos con la colaboración en exclusiva de Germán Sáez i
Moreno (german@mat.upc.es), de la Univesidad Politécnica de Cataluña,
que nos hablará en su artículo de la importancia de los números
aleatorios en la criptografía moderna.


¿Qué son los números aleatorios?

Las sucesiones de números o bits aleatorias son sucesiones de números
o bits seleccionados al azar de forma uniforme, es decir, todo número
o bit tiene la misma probabilidad de ser escogido. Formalmente se
requiere que sean estadísticamente independientes e insesgados. El
ejemplo clásico más utilizado para generarlos es el del lanzamiento
repetitivo de una moneda ideal no trucada. Identificando 0 con cara y
1 con cruz, obtenemos una sucesión de bits aleatoria. Es indiferente
hablar de números o de bits aleatorios, ya que agrupando bits
obtenemos números y seleccionando determinados bits de los números
obtenemos sucesiones de bits.

Existen otros dispositivos físicos de los que se supone que generan
números aleatorios. Algunos de los que se consideran son  la medida
del ruido térmico de un diodo semiconductor o de una resistencia, o
bien la medida de la inestabilidad en frecuencia de un oscilador
libre.


¿Para qué sirven?

En la vida cotidiana se utilizan números aleatorios en situaciones tan
dispares como pueden ser los juegos de azar o en el diseño de la caída
de los copos de nieve en una animación por ordenador. El mundo
tecnológico no está libre de su utilización y por ejemplo se utilizan
en tests para localización de errores en chips. En la transmisión de
datos desde un satélite también se utilizan números aleatorios.  Su
utilización en las finanzas es otra de las muchas aplicaciones.

En general cuando se requiere una impredecibilidad en unos
determinados datos, se utilizan números aleatorios. Aquí es donde
entra en juego la criptografía. Así en la telefonía móvil digital GSM
se utilizan para la asignación de una clave aleatoria que sirve para
autenticar al usuario o por ejemplo también se utilizan para dar
cierta seguridad a la asignación inicial de números secretos a las
tarjetas de crédito. Para muchos sistemas criptográficos, como pueden
ser DES, RSA, DSA, la utilización de números aleatorios es vital para
su seguridad.

En el campo de la Matemática Aplicada también se utilizan en ciertos
procesos de Análisis Numérico, o en cualquier algoritmo que precise
una elección aleatoria de un dato. Así, destaca el Método de
Montecarlo con el que, por ejemplo se puede calcular una aproximación
del número PI sólo lanzando aleatoriamente tiros sobre una diana
inscrita en un cuadrado, como se puede observar en el experimento de
la figura (puede obtenerse en
www.iec.csic.es/criptonomicon/articulos/aleat.gif).

Este método se basa en el hecho que el área del círculo dividida por
el área del cuadrado es PI/4 y a la vez coincide con el número de
tiros acertados dividido entre el número de tiros lanzados (cuando el
número de tiros es suficientemente grande). En este ejemplo después de
lanzar 44 tiros aleatorios, se han obtenido 35 dentro de la diana que
nos proporcionan una aproximación de PI/4 = 0,7954 (el valor exacto es
PI/4 = 0,785398...). Con este mismo método se pueden calcular todo
tipo de integrales definidas de forma aproximada. El Método de
Montecarlo se utiliza en muchas simulaciones, como por ejemplo, en el
estudio del paso de neutrones por una placa.

¿Qué son los números pseudoaleatorios?

Son unos números generados por medio de una función (determinista, no
aleatoria) y que aparentan ser aleatorios. Estos números
pseudoaleatorios se generan a partir de un valor inicial aplicando
iterativamente la función. La sucesión de números pseudoaleatorios es
sometida a diversos tests para medir hasta qué punto se asemeja a una
sucesión aleatoria.


¿Por qué hay que recurrir a los números pseudoaleatorios?

Fundamentalmente porque las sucesiones de números pseudoaleatorios son
más rápidas de generar que las de números aleatorios.

Los dos principales inconvenientes de las sucesiones de números
pseudoaleatorios es que a partir de un mismo valor inicial se genera
la misma sucesión y que, en general, la sucesión es periódica. Estos
inconvenientes se solucionan escogiendo generadores con periodos
largos. De todas maneras, en muchas aplicaciones son útiles estos
defectos, ya que nos irá bien que la sucesión parezca aleatoria, pero
a la vez conozcamos que los números se repiten periódicamente y cuál
es la longitud del periodo. También cuando se quiere repetir un
experimento en las mismas condiciones, nos interesará partir del mismo
generador y con el mismo valor inicial.


¿Cómo se generan las sucesiones pseudoaleatorias?

Uno de los primeros métodos conocidos es debido a John von Neumann
(1903-57). Una versión de este método consiste en partir de un número
inicial de 10 cifras, elevarlo al cuadrado y seleccionar como nuevo
número aleatorio las cinco 5 centrales. Siendo cautos en la elección
del valor inicial e iterando el proceso se obtiene una sucesión de
números pseudoaleatorios. Un método utilizado en criptografía muy
relacionado con este último es el debido a L. Blum, M. Blum y M. Shub
(1986). En este método la manera de iterar a partir de un valor
inicial x(1) viene dada por la fórmula x(i+1) = x(i)^2 + mod (p*q),
con p y q primos congruentes con 3 módulo 4. Una generalización es el
llamado generador RSA dado por x(i+1) = x(i)^d + mod (p*q), con p, q
primos y d un número que verifica que mcd(d, (p-1)*(q-1)) = 1. Se han
propuesto otros generadores como pueden ser los basados en sucesiones
de registros de desplazamiento, en autómatas celulares o en hashing.


¿Por qué son tan importantes para la criptografía?

La generación de números pseudoaleatorios es necesaria en diversos
sistemas criptográficos, como por ejemplo a la hora de generar la
clave en los sistemas one-time pad, en el DES, RSA, DSA, etc. Para
muchos sistemas criptográficos, la utilización de números
pseudoaleatorios es vital para su seguridad. Esto es,
fundamentalmente, porque la elección de las claves tiene que ser
aleatoria para que así sean impredecibles para un oponente. También se
utilizan estos números en los cálculos intermedios que realizan los
sistemas criptográficos.

Las razones dadas hasta aquí son las que explotan el parecido de las
sucesiones pseudoaleatorias con las aleatorias. Debido a que la
transmisión y almacenaje de números aleatorios no es práctica se usan
generadores pseudoaleatorios porque sólo se requiere almacenar y
transmitir la semilla que genera la sucesión.


Opina sobre este tema. Envía tus comentarios a
criptonomicon@iec.csic.es.

¿Eres experto en algún área relacionada con la seguridad o la
criptografía y quieres colaborar con el Criptonomicón? Envía tu
artículo a criptonomicon@iec.csic.es.

******************************************
Sobre el boletín del Criptonomicón

******************************************
13. Información sobre suscripción y cómo borrarse

Para borrarse de este servicio basta con enviar un correo a la
dirección cripto-request@iec.csic.es con el siguiente mensaje (sin
asunto o "subject"):

leave

desde la misma cuenta de correo en la que recibís el boletín.

Tenéis más información y números atrasados en la página

http://www.iec.csic.es/criptonomicon/suscripcion.html

******************************************
14. Números atrasados

Podéis encontrar los números atrasados del boletín en:

http://www.iec.csic.es/criptonomicon/suscripcion.html

Se pueden recuperar todos en formato ZIP o de uno en uno.

******************************************
15. Firma PGP

Se puede obtener la clave pública PGP del Criptonomicón en:

http://www.iec.csic.es/criptonomicon/criptonomicon.txt

Para más información sobre qué es el correo seguro y cómo funciona
PGP, se puede visitar:

http://www.iec.csic.es/criptonomicon/correo.html

******************************************
(C) Copyright 1999 Criptonomicón
http://www.iec.csic.es/criptonomicon

Un servicio ofrecido libremente desde el Instituto de Física Aplicada
del CSIC por Gonzalo Álvarez Marañón
email: criptonomicon@iec.csic.es

Todos los trabajos, artículos, comentarios u opiniones de los
colaboradores de Criptonomicón son de su exclusiva responsabilidad,
siendo ellos los que responden de la veracidad y exactitud de sus
aportaciones. Criptonomicón agradece las mencionadas colaboraciones,
pero no comparte necesariamente las opiniones manifestadas. Asimismo,
es responsabilidad del lector descargar, instalar y ejecutar en su
propio sistema los programas que se mencionen en el Criptonomicón.

-----BEGIN PGP SIGNATURE-----
Version: PGP 5.5.5
Comment: Clave http://www.iec.csic.es/criptonomicon/criptonomicon.txt

iQA/AwUBN3DyeYUNKyrTCJjtEQI+fACgkqhXmVl3+kBPsGtZAdf3p1epS6AAnRhC
X81cC+7z6MaFLL4jp5Oqo8ua
=zXL0
-----END PGP SIGNATURE-----

