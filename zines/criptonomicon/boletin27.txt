Boletín del Criptonomicón
Año I, nº 27
11 de noviembre de 1998

******************************************
Susurros desde la Cripta
  1. Editorial

Las noticias de la semana:
  2. Disponible el Gestor de Configuración de Seguridad (SCM)
  3. Guía: Cómo asegurar tu sitio Web para comercio electrónico

Candados, cortafríos y otras herramientas
  4. El Guardián del Código

Parada y fonda
  5. Comparación de servidores Web

Consejos y trucos
  6. Consejos para CGI

Cursos en el Criptonomicón
  7. Nuevas lecciones de Java

Hablan los expertos
  8. Criptografía visual

Formación
  9. Curso de Seguridad en el CSIC

Comentarios de los lectores
  10. Desinformación en los grandes medios

Sobre el boletín del Criptonomicón
  11. Información sobre suscripción y cómo borrarse
  12. Números atrasados

******************************************
Susurros desde la cripta

******************************************
1. Editorial

Como los lectores habituales habréis observado, desde hace algunas semanas
se inició una nueva etapa en el boletín del Criptonomicón, en la que, entre
numerosos cambios y novedades, comencé a publicar artículos de numerosos
expertos en criptografía, derecho, comercio electrónico, etc. Por supuesto,
esta sección está abierta a todo aquel que, poseyendo un conocimiento
profundo sobre alguno de los temas habitualmente tratados en este medio,
desee compartir con el resto de lectores sus conocimientos y experiencia.

Los interesados en participar en la sección “Hablan los expertos”, pueden
remitir sus trabajos por correo electrónico a gonzalo@iec.csic.es.

Asímismo, todos aquellos que queráis expresar vuestros comentarios,
opiniones y pareceres sobre cualquier aspecto relacionado con el mundo de la
criptografía y de la seguridad en Internet, podéis hacerlo escribiendo de
nuevo a gonzalo@iec.csic.es, para que vuestras cartas aparezcan en la
sección “Comentarios de los lectores”.

Entre todos podemos trabajar por una Internet más segura.

******************************************
Las noticias de la semana

******************************************
2. Disponible el Gestor de Configuración de Seguridad (SCM)

Ya está disponible la versión descargable desde la Red del Gestor de
Configuración de Seguridad (SCM) para NT. Los componentes del SCM se
encuentran en los CDs del Service Pack 4 o los podéis descargar directamente
de:

ftp://ftp.microsoft.com/bussys/winnt/winnt-public/tools/SCM/

******************************************
3. Guía: Cómo asegurar tu sitio Web para comercio electrónico

VeriSign (www.verisign.com) ha publicado una guía gratuita sobre los pasos
necesarios para proteger la información sensible, autenticar usuarios y
asegurar las sesiones.

http://www.verisign.com/whitepaper_40/

******************************************
Candados, cortafríos y otras herramientas

******************************************
4. El Guardián del Código

Coincidiendo con la presentación en este boletín de una nueva adición al
curso de seguridad en Java, aprovecho para informar de la existencia del
“Guardián del Código”, un ofuscador comercial de código fuente para Java,
que permite oscurecer el código fuente de manera que sea ininteligible,
resultando imposible su posterior reutilización por usuarios no autorizados.

Se puede obtener la versión de evaluación de este producto SourceGuard en:

http://www.4thpass.com/

Más información sobre la ofuscación de código en:

http://www.iec.csic.es/criptonomicon/java/ofuscacion.html

******************************************
Parada y fonda

******************************************
5. Comparación de servidores Web

“La guía definitiva para las especificaciones de servidores HTTP”, dice su
lema, y en verdad que os resultará imposible encontrar un sitio Web más
completo. ¿Estás pensando en instalar un servidor Web y no sabes cuál? ¿Te
gustaría comparar dos servidores concretos? ¿Desconoces las características
de seguridad de un cierto servidor?

Encontrarás respuesta a todas tus dudas en estas completas páginas, fáciles
de buscar, con comparaciones de productos y extensos listados de
características y referencias a otras páginas que hablen sobre ellos.

La guía imprescindible para todo aquel interesado en servidores HTTP.

La podéis encontrar en:

http://webcompare.internet.com/

******************************************
Consejos y trucos

******************************************
6. Consejos para CGI

Consejos de Lincoln Stein, creador de la FAQ sobre seguridad en WWW
(www3.uniovi.es/~rivero/mirror/www-security-faq) y autor del libro recién
publicado “Web Security”, por Addison-Wesley, 1998.

Consejos de sentido común para administradores cuando instalen CGI's
desarrollados por terceros:

1. No ejecutar nunca guiones en CGI con más privilegios de los que
necesiten. Generalmente, ejecutarlos como el usuario con menos privilegios
del sistema.
2. Siempre que sea posible, ejecutar los CGI en un entorno set-user-id,
aislándolos del resto del sistema de ficheros.
3. Establecer límites de recursos, de manera que un CGI pobremente escrito
no pueda utilizar cantidades irrazonables de memoria, CPU o espacio en
disco.

Algunos consejos para desarrolladores de CGI:

1. No copiar nunca datos introducidos por el usuario en búferes estáticos.
2. Comprobar siempre la longitud de las cadenas antes de manipularlas.
3. No pasar nunca sin comprobarlos antes datos recibidos del exterior (por
ejemplo, la cadena de consulta) a un comando del shell.
4. No usar nunca sin comprobarlos antes datos recibidos del exterior para
seleccionar un nombre de fichero para su apertura.
5. Comprobar el código de retorno de todas las llamadas al sistema.
6. No hacer suposiciones acerca del directorio de trabajo actual, el entorno
o el camino de ejecución de comandos.

Incluidos con permiso escrito del autor. También disponibles en la página:

http://www.iec.csic.es/criptonomicon/cgi/stein.html

******************************************
Cursos en el Criptonomicón

******************************************
7. Nuevas lecciones de Java

Esta semana aparecen nuevas lecciones en el curso de seguridad en Java,
discutiendo muy someramente los nuevos modelos que está implementando Sun en
sus últimas versiones del JDK, la 1.1 y la más reciente, la beta de 1.2, así
como la ofuscación de código.

Las podéis encontrar en:

http://www.iec.csic.es/criptonomicon/java/futuro.html
http://www.iec.csic.es/criptonomicon/java/ofuscacion.html

******************************************
Hablan los expertos

******************************************
8. Criptografía visual

Esta semana contamos de nuevo con la colaboración de Luis Hernández Encinas
(http://www.usal.es/usuarios/encinas), Doctor en Ciencias Matemáticas de la
Universidad de Salamanca y co-autor del libro “Técnicas Criptográficas de
protección de datos”, de la editorial Ra-Ma
(http://www.iec.csic.es/Libros.html#tcpd). Ha escrito en exclusiva para el
Criptonomicón otro artículo, éste sobre la criptografía visual, utilizada
para dividir una imagen secreta en varias imágenes, de manera que por
separado no revelen información acerca de la imagen original, siendo
necesario reunir todas las partes para recuperarla.

CRIPTOGRAFIA VISUAL

Si en lugar de dividir secretamente un número, tal y como se lleva a cabo
en la división de secretos, mediante los protocolos de los esquemas
umbrales, lo que se desea es enmascarar una imagen, estamos ante la
criptografía visual, que hace uso de los esquemas visuales umbrales. Estos
esquemas siguen el mismo procedimiento que los esquemas umbrales m de n,
pero con las siguientes características:

1. El secreto S es una imagen formada por pixeles blancos y negros.

2. Las n sombras en que se divide la imagen secreta son otras tantas
transparencias, cada una con una imagen que tiene el mismo tamaño y el mismo
número de pixeles que la imagen original.

3. La recuperación de la imagen secreta se lleva a cabo mediante la
superposición de m transparencias cualesquiera, de modo que no es posible
obtener la imagen original con sólo m-1, o menos, de ellas.

Vamos a detallar cómo construir un esquema visual umbral 2 de 2, de modo
que podamos enmascarar una imagen para luego recuperarla. Dado que el
esquema es 2 de 2, la imagen se dividirá en 2 sombras o transparencias, una
para cada uno de los participantes, de modo que ninguno de ellos pueda
conocer ninguna información de dicha imagen original a partir de la imagen
que recibe, y de tal manera que sólo se pueda recuperar la imagen original
superponiendo las 2 transparencias en que se ha dividido la imagen.

Para elaborar las sombras supondremos que la imagen a ocultar (el número
Pi) está contenida en un rectángulo, dividido en pixeles, como se ve en la
figura 1.

Figura 1. Imagen secreta a ocultar.
(www.iec.csic.es/criptonomicon/images/figura1.gif)

Conviene señalar que esta figura contiene muy pocos pixeles, por lo que el
proceso será puramente ilustrativo, sin buscar una buena definición de la
imagen resultante.

El esquema visual 2 de 2 para dividir la imagen secreta consiste en
enmascarar cada uno de los pixeles de la imagen original en dos pixeles,
cada uno de los cuales ocupará el lugar del pixel original, pero en cada una
de las sombras. Para llevar a cabo este enmascaramiento, cada uno de los
pixeles de cada una de las sombras está dividido en dos semipixeles, la
mitad blanco y la mitad negro. El algoritmo para enmascarar cada uno de los
pixeles originales se ilustra en la figura 2 y es el siguiente:

Figura 2. Enmascaramiento de un pixel original en un esquema 2 de 2.
(www.iec.csic.es/criptonomicon/images/figura2.gif)

Si el pixel original es blanco, el director lanza una moneda al aire, de
modo que si el resultado es cara, elige como pixeles para cada una de las
sombras los dos pixeles de la primera línea de la figura 2.a; si el
resultado es cruz elige como pixeles para cada sombra los dos pixeles de la
segunda línea. De forma análoga se procede para enmascarar un pixel negro,
utilizando la figura 2.b. El algoritmo que se acaba de describir se ejecuta
con cada uno de los pixeles de la imagen secreta.

Las características del algoritmo anterior son las siguientes: (i) la
obtención de un semipixel blanco-negro o negro-blanco tiene la misma
probabilidad (p = 0'5), y no depende del color del pixel original (por
tanto, los pixeles de las sombras no proporcionan ninguna información a los
participantes, sobre el color del pixel original), (ii) el proceso de
enmascaramiento de los pixeles es aleatorio (lanzar una moneda), y los
resultados obtenidos en cada prueba son independientes (por tanto, no se
obtiene información adicional si se observa un grupo de pixeles en
cualquiera de las sombras).

Cuando se superponen las dos sombras (ver las columnas s1+s2 de las figuras
2.a y 2.b) se obtiene, si el pixel original era blanco, un pixel
negro-blanco o blanco-negro, y un pixel negro si el pixel original era
negro. Por tanto, cuando se superponen los pixeles de las sombras de un
pixel original negro, se obtiene un pixel negro en la imagen que se
recupera. Mientras que los pixeles blancos pierden contraste por el hecho de
que el pixel que se obtiene al superponer las sombras es negro-blanco o
blanco-negro y no completamente blanco (esta pérdida de contraste recomienda
utilizar imágenes claramente definidas).

Si la sucesión de caras (c) y cruces (x) obtenida por el observador para
enmascarar cada uno de los 64 pixeles fue: ccxxxcxc, xxccxxxx, ccxxccxc,
ccxcxccx, xxccxcxc, xxccxcxc, cxxcxxxc, cccxxccx, las sombras obtenidas se
muestran en las figuras 3 y 4:

Figura 3. Sombra obtenida para el primer participante.
(www.iec.csic.es/criptonomicon/images/figura3.gif)

Figura 4. Sombra obtenida para el segundo participante.
(www.iec.csic.es/criptonomicon/images/figura4.gif)

Las dos sombras serán impresas o fotocopiadas por el director a dos
transparencias y entregadas de forma secreta a cada uno de los dos
participantes. Superponiendo las dos transparencias de las dos sombras
anteriores, la imagen original recuperada es la que se muestra en la figura
5 (la figura se presenta con dos tonos para que se aprecie la imagen
original y la pérdida de contraste).

Figura 5. Imagen secreta recuperada.
(www.iec.csic.es/criptonomicon/images/figura5.gif)

El procedimiento anterior se puede extender a esquemas visuales más
generales mediante algoritmos adecuados, que requieren el uso de matrices y
permutaciones.

A modo de ejemplo se presentan, en la figura 6, las sombras de otra imagen,
así como la imagen recuperada.

Figura 6. Símbolo de victoria.
(www.iec.csic.es/criptonomicon/images/figura6.gif)

(Nota: para una información más precisa y detallada, así como para conseguir
más imágenes de criptografía visual, puede consultarse la página personal de
D. Stinson, en la Universidad de Waterloo, Canadá:
http://cacr.math.uwaterloo.ca/~dstinson/visual.html).

******************************************
Formación

******************************************
9. Curso de Seguridad en Internet e Intranet

El Departamento de Tratamiento de la Información y Codificación del
Instituto de Física Aplicada del CSIC anuncia que impartirá un curso abierto
al público sobre Seguridad en Internet e Intranet durante los próximos días
13 a 15 de enero de 1999.

Todos aquellos interesados en asistir físicamente al mismo (no es un curso a
través de Internet ni por vídeo conferencia ni ningún otro medio remoto y
tampoco estará disponible en Internet ni por correo electrónico), pueden
consultar la información más detallada sobre el programa, lugar y precio de
la matrícula en la página:

http://www.iec.csic.es/curso/curso.html

No se conceden becas para el mismo, aunque se contemplan cursos especiales
para empresas y grupos con intereses específicos.

Para informarse sobre condiciones de pago y fechas de matriculación, no
olviden pasarse por la página:

http://www.iec.csic.es/curso/inscrip.html

******************************************
Comentarios de los lectores

******************************************
10. Desinformación en los grandes medios

Estimado Defensor del Lector,

Unas cuantas puntualizaciones respecto a los artículos "España limita
mucho el empleo de lenguajes secretos en Internet" y "Un espía en el
bolsillo".

Volvemos a la "encriptación", cuyo uso ya le hizo notar mi compañero de
trabajo Julio Rubio no hace mucho. Es "cifrado", cifrar ya aparece en la
segunda edición del diccionario de la academia (ignoro si también en la
primera).

Otra palabra nueva es la "estedanografía", puede que sea un error de los
duendes, pero la palabra correcta es ESTEGANOGRAFIA, el arte de ocultar
la información.

Tampoco es correcto asimilar bits (unidad básica de información, 0 ó 1),
con caracteres, cualquiera con unos conocimientos mínimos de informática
lo sabe, y un periodista también lo debería saber.

El PGP no tiene versión básica, cada uno escoge la longitud de clave que
cree conveniente (de 512 a 4096 bits). Tampoco se pueden comparar las
longitudes de claves secretas o simétricas con las de clave publica o
asimétricas, pero para eso si que hace falta saber criptografía y es
perdonable. Y me gustaría saber el tipo de maquina empleado para
descifrar en seis meses un mensaje cifrado con PGP, incluso con solo 512
bits de clave RSA. En estos casos se suele hablar no de tiempo real sino
de millones de instrucciones necesarios, luego un sencillo calculo nos
dirá el tiempo necesario según la potencia de la maquina. O las fuentes
policiales les dijeron otra cosa que no entendieron o las fuentes
policiales andan un poco despistadas

Se confunde al lector insinuando que la obligación (todavía no
desarrollada en reglamento) de informar del sistema de cifrado implica
la posibilidad de descifrar la información. Cualquier sistema moderno de
cifrado basa su fortaleza, siguiendo el principio de Kerkoff, únicamente
en el secreto de la clave (que no hay que entregar), el que se conozcan
los algoritmos no es síntoma de debilidad sino al contrario puesto que
así se permite su revisión publica.

El GPS en ningún momento transmite nada al satélite, decirlo es como
decir que me pueden localizar el coche porque voy oyendo la radio.

Decir que las conversaciones GSM se descifran con rapidez (aludiendo
nuevamente al conocimiento del protocolo, que no tiene nada que ver), es
una afirmación un tanto arriesgada. Que yo sepa, y sigo a diario varias
listas dedicadas en exclusiva a seguridad y criptografía, no se pueden
descifrar a menos que se obtenga (robe??) el SIM (tarjeta). El llamado
ataque "aéreo" no se ha podido realizar de momento, aunque se han
especulado las formas de llevarlo a cabo simulando ser una estación base
en zonas sin cobertura. Lo normal en estos casos es obtener la
conversación allí donde no va cifrada, es decir, desde la estación base
hasta el otro teléfono, puesto que GSM solo cifra el trayecto que va vía
radio.

Efectivamente la NSA tiene un presupuesto mayor que la CIA, no podría
ser de otro modo cuando la CIA forma parte de la NSA.

Reportajes como estos no se hacen de un día para otro, no es rabiosa
actualidad y da tiempo a que sean revisados por expertos en la materia.
Desinforman más que informan, y puesto que el sensacionalismo no es la
tónica de El País, no puedo pensar sino que es ignorancia, y no sé lo que
es peor.

Carta enviada a El País por
Luis Saiz (lsaiz@atos-ods.com)
Consultor de Seguridad Informática
Area de Seguridad y Administración
ATOS-ODS

******************************************
Sobre el boletín del Criptonomicón

******************************************
11. Información sobre suscripción y cómo borrarse

Para borrarse de este servicio basta con enviar un correo a la dirección
cripto-request@iec.csic.es con el siguiente mensaje (sin asunto o
"subject"):

leave

desde la misma cuenta de correo en la que recibís el boletín.

Tenéis más información y números atrasados en la página

http://www.iec.csic.es/criptonomicon/suscripcion.html

******************************************
12. Números atrasados

Podéis encontrar los números atrasados del boletín en:

http://www.iec.csic.es/criptonomicon/suscripcion.html

Se pueden recuperar todos en formato ZIP o de uno en uno.

******************************************
(C) Copyright 1998 Criptonomicón
http://www.iec.csic.es/criptonomicon

Un servicio ofrecido libremente desde el Instituto de Física Aplicada del
CSIC por Gonzalo Álvarez Marañón
email: gonzalo@iec.csic.es

