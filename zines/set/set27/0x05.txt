-[ 0x05 ]-------------------------------------------------------------------
-[ Consola NES ]------------------------------------------------------------
-[ chinaski ]-------------------------------------------------------SET-27--


Te preguntaras por que en el anyo 2002 (quizas para cuando esto se publique
vivamos en el prospero 2003), el anyo de la crisis economica y la guerra de
Afganistan voy a escribir sobre la Nintendo Entertaiment System tambien
conocida como NES. La razon es que me da la gana OK?

Tras una ardua busqueda encontre el siguiente documento en Internet que
describia como llevar a cabo el pirateo, rectificacion o como quiera
llamarse de la NES. Gracias a esta sencilla modificacion podemos usar la
NES con cartuchos piratas que incluyen cientos de juegos o con cartuchos
de importacion.

Puede que no te lo creas pero funciona y yo lo hice en mi casa! No hay que
ser un genio para piratear la NES. Realmente todo el documento que viene a
continuacion es para decirte que habras la consola le cortes un pin y la
cierres (es lo que hice yo). Pero conviene saber la razon por la que
hacemos las cosas. Si no seriamos simples automatas ejecutando
instrucciones.

A continuacion teneis las caracteristicas tecnicas de la NES para que
amplieis vuestro conocimiento del mundo electronico:

CPU : 					6502 8-bit (NMOS)
Velocidad de CPU: 			1.79 Mhz
Memoria ROM:				4 Kb
Memoria RAM: 				16 Kbit (2 Kbyte)
Video RAM: 				16 Kbit (2 Kbyte)
Resolucion: 				256x240 pixels
Colores: 				52 colores
Colores simultaneos: 			24 colores
Maximo tamanyo de sprite: 		8x16 pixels
Numero maximo de sprites: 		64 sprites
Tamanyo minimo-maximo de cartucho: 	128 Kbit - 4 Mbit
Sonido: 				PSG

Y la historia de su creacion:
----------------------------

Hiroshi Yamauchi y Masayuki Uemura reciben el encargo de crear una consola 
mas avanzada que la Color TV Game que Nintendo tenia entonces. El nuevo sistema
deberia ser capaz de jugar muchos juegos diferentes, almacenados en diferentes
discos/cartuchos. Nintendo no era la primera en tener esa idea. Atari,
Commodore, Bandai, Takara y Sharp habian lanzado o estaban desarrollando
sistemas similares. Tenian que hacer un sistema mucho mejor que los
competidores, pero a la vez mas barato, para poder abordarlo. Yamauchi puso
como meta un precio de 9.800 yen (unos 60Eur). Al principio, Uemura pensaba 
usar una CPU 16 bits, pero por ser demasiado cara pasa a una de 8 bits.
Masayuki gasto mucho tiempo con sus ingenieros revisando los juegos arcade de
Nintendo, tratando de encontrar los componentes claves mas apropiados para una
rapida, pero barata, consola. Al fin, se decide por la CPU 6502, barata, pero
no tan potente. El 6502 no puede hacer todo el trabajo grafico el solo, por lo
que se incluye una PPU (Picture Processing Unit). Contactaron con muchos
fabricantes de semiconductores, pero la mayoria rechazaron sus ofertas. 

Nintendo busca precios por los suelos, pero promete compras enormes. 
Desafortunadamente,la mayoria de las companyias no podrian afrontar el reto. La 
afortunada fue Ricoh, sin mucho trabajo en su division de semiconductores 
entonces. Yamauchi no iba a pagar mas de 2.000 yens/chip, lo que a Ricoh le 
parece absurdamente bajo. Pero la promesa de 3.000.000 de CPUs en 2 anyos 
acaban con las dudas. 

En Nintendo comienzan a preguntarse que van a hacer con tanto chip. Su record 
de ventas con la Color TV Game era 1.000.000. La memoria del nuevo sistema tuvo 
que ser rebajada a 2.000 bits (16 Kb). La sugerencia para incluir un teclado, 
modem, y unidad de disco se abandonan para abaratar el equipo. Sin embargo, se 
agregan circuitos caros para implementar un conector que pudiera enviar y 
recibir una senyal sin modificar a la CPU. Esto permite que a la NES se le 
conectara cualquier cosa en el slot de cartuchos (modem, teclado, etc.).

Nintendo lanza su primera consola para el mercado domestico como el Famicom
(Family Computer) o Nintendo Entertainment System (NES) como se llamara en 
el oeste.
Sale a la venta por $100 ($25 mas de lo inicialmente planeado, pero menos de 
la mitad que la competencia). Se vende muy bien en japon, pero debido al Crash 
de 1984, tiene dificultades para abordar el mercado americano (entonces los 
juegos Atari se vendian al 10% del precio recomendado, y todos los minoristas 
juraban no volver a vender consola u ordenador). A finales de 1985, el Sr. 
Arakawa (el Presidente de Nintendo America) consigue convencer a un grupo
de minoristas de que hagan un test en Nueva York y, diez anyos despues, en
febrero de 1998, la NES ha copado el 90% del mercado 8bits en USA, con
30.000.000 de copias vendidas.

En Europa mantiene una dura batalla con la Sega Master System, ganando por 
pequenyas diferencias. Es tambien el lugar de su derrota a mano de Codemasters 
(Nintendo mantenia contratos draconianos con los desarrolladores, que les obligaba
a trabajar en exclusiva, suavizado a lanzar las otras versiones 3 anyos despues,
tras un rapapolvo del gobierno nipon), que liberaliza el mercado de cartuchos.

Para la NES se han hecho desarrollos muy curiosos, normalmente relegados a 
los ordenadores: cartuchos para Aerobic, curso de idiomas....

Se venden 6 paquetes, 3 inicialmente, 2 en 1991, y uno en 1993:

Original Set: al precio de 249 $, incluye la consola, 2 mandos, la pistola 
Zapper y el extranyo juguete ROB (Robotic Operation Buddy)acompanyado de los
juegos Duck Hunt (para la Zapper) y Gyromite.
Action Set: por 199 $, que cambia a ROB y Gyromite por el, posiblemente, 
mejor juego de plataformas: Super Mario Bros.
Power Set: como el Action Set, pero con un mando mejorado, el Power Pad, y 
un juego nuevo: World Class Track Meet.
Basic Set: solo la consola y los dos mandos.
Sport Set: el Basic Set, NES Satellite (adaptador de 4 jugadores) y dos 
juegos:
Super Spike V' Ball y World Cup Soccer.
Video Game beginners console: La NES redisenyada, dos mandos a los SuperNes 
y, lo mejor, Final Fantasy I y II. Vendida solo en Japon y USA, los dos juegos 
consiguen vender 1.000.000 de packs, ganando a la mismisima SuperNES en varias 
ciudades.
(Final Fantasy es una serie de rol de culto que ha acabado saltando al PC y 
la Playstation con enormes ventas y pirateos P-). Aunque este pack se vende 
bien, Nintendo abandona la NES en 1984, tras el lanzamiento de Wario's Woods 
(curioso, Wario, el primo malo de Mario parece matar a la NES :-)
La NES tiene con la Atari 2600 el dudoso honor de ser la consola mas 
pirateada de la historia. Son incontables los cartuchos multijuegos piratas.
Pese a las enormidades anunciadas (1.000.000 en uno en un cartucho para el
mercado arabe), no suelen pasar de 32 juegos, siendo el resto variaciones
hack sobre los juegos (desde aplicar codigos Game Genie para superar
niveles u obtener invencibilidad 
a simplemente alterar el byte que define el color del sprite). pero ninyos y 
mayores se lo creen a pies juntillas y pagan el doble por un cartucho con una 
etiqueta mas gorda. Las consolas piratas suelen estar mejor disenyadas en
cuanto a aspecto y prestaciones, pero obvian el blindaje contra interferencias.
El desarrollo de la Nintendo en un chip (toda la circuiteria de la placa base,
menos el  modulador y las salidas de A/V, concentrada en un solo chip con
apariencia de pegote de lacre negro) abarata notablemente los costes y
permite desarrollos tan curiosos como una consola del tamanyo de un Gamepad
de PC que se conecta a la TV sin cables, por su antena emisora (hay 2
variantes: una un poco mayor, con slot de cartuchos y  conector DB15
para pistola/mando 2, y otro ultracompacto, sin slot ni conector pero con 
128 juegos - de verdad - dentro) o el Volante Cefa Toys (una imitacion de un 
volante de PC/PSX con un radio de 10 cm, que en el frontal tiene tomas par segundo
mado/pistola tipo DB9, salidas A/V y modulador TV y toma de alimentacion, 
pero si n slot de cartuchos). Basado ene se chip hay un desarrollo en marcha, el 
Portendo (trata de incorporar sobre la carcasa de una Sega Nomad una Nintendo 
portable a semejanza de la Sega GameGear y de la citada Nomad.
En Espanya, Spaco (distribuidor oficial de la NES) no pone mucho empenyo en 
combatir a las consolas piratas (lo que le interesa de veras son los juegos y 
accesorios) aparte de las campanyas que Nintendo lanza a nivel mundial con su
"sello de calidad". Todos, grandes almacenes, hipermercados, decomisos, tiendas
de Video Juegos... venden las Nisu (juego de palabras entre el nombre de la mas 
vendida, Nasa, y "Ni Su padre la conoce") como rosquillas. Imitando inicialmente
a la NES Europea, acaban por verse con forma de SuperNes, Megadrive I y II, 
PlayStation (reproducen incluso los mandos), platillo volante, contestador 
automatico...., y la Zapper ha acabado por ser una Uzi. Algunas consolas
incorporan el Game  Genie (pokeador) y el Slomo (ralentizador de juegos).
Aun en 1999 pueden localizarse nuevas.


	     Inhabilitar el chip de bloqueo de la NES    (rev. 0.5 26-Dic-97)
             ========================================    (Traduccion 31-Ag-02)

Introduccion
------------
Este documento describe una simple modificacion que puedes hacer en tu
consola Nintendo Entertaiment System para eliminar la proteccion del chip
de bloqueo.

Por que querrias hacer eso? Bien, puedo pensar en un par de razones:
* Posees juegos sin licencia que no funcionan en tu NES.
* Posees juegos de otros paises, y actualmente tienes que usar un adaptador.
  Por ejemplo, despues de hacer esta modificacion podras usar la mayoria de
  los juegos PAL en una consola americana y la mayoria de los juegos 
  americanos y japoneses (NTSC) en una consola Europea.

Este documento es copyright (c) 1997 by Mark <mark_k@iname.com>.
Puedes incluir este documento en cualquier web site, siempre que no sea 
modificado.


El procedimiento dado aqui deberia funcionar en cualquier version vieja de 
la NES (En los que se introduce el cartucho por la parte frontal). Los 
nuevos disenyos de la NES no tienen el chip de bloqueo.

Con la modificacion podras jugar a todos los juegos NTSC (America, Japon) en 
cualquier consola PAL y viceversa. Sin embargo algunos juegos son 
incompatibles con los diferentes estandares. Ejemplos de esto son el High 
Speed, Pin Bot (ambos bloquean la consola), Time Lord, Digger T. Rock, y 
algun que otro juego desarrollado por RARE Ltd. En el resto de los casos 
funcionara bien.

Yo he llevado a cabo satisfactoriamente este procedimiento en un modelo de 
Gran Bretanya de la NES, que tiene la revision PCB NES-CPU-11. Todos los 
juegos sin licencia que poseo, y los juegos americanos y europeos funcionan 
bien. (Los juegos sin licencia que probe fueron Action 52, Crystal Mines, 
Firehawk y Super Adventure Quests.)


Si estas interesado en la operacion de desbloqueo y la historia de la NES en 
general, quiza te interese leer el excelente libro de David Sheff "Game 
Over", y consultar las patentes americanas 4.799.635 y/o 5.070.479. Yo 
obtuve la informacion necesaria para llevar a cabo esta modificacion de una 
de esas patentes.


Indice de Revisiones
--------------------
[Revisiones antes de la 0.5 no archivadas]

0.5  26-Dic-97   Anyadida nota sobre disipacion de la capacidad almacenada 
                 antes de abrir la consola y advertencia sobre la
                 electricidad estatica. Pequenyos cambios.
     31-Ago-02   Traduccion al Espanyol del texto por "chinaski"  se realizan
                 pequenyos cambios de interes para el usuario Europeo.


Historia
--------
Antes de que la NES fuera lanzada en los U.S.A. y Europa, Nintendo 
desarrollo un sistema para evitar el uso de software no autorizado. Habia
comenzado a aparecer mucho software sin licencia para su Famicon(en Japon
la NES se llama asi) y Nintendo queria evitar que sucediera lo mismo con 
la NES.

Otro beneficio (para Nintendo al menos) de este sistema fue que las 
companyias desarrolladoras (third parties) ilegales no pudieran utilizar
sus sistema. 
Solo los que tenian una licencia de Nintendo podian comprar el chip de 
desbloqueo que era incluido en cada cartucho. Nintendo cobraba 9US$ por
cada chip.

Algunas companyias se las arreglaron para evitar el sistema de desbloqueo y 
producir sus propios juegos sin licencia. Ejemplos de esto son Active 
Enterprises, Codemasters, Camerica, Color Dreams y Tengen.

Sin embargo, durante la vida de la NES, Nintendo modificaba periodicamente 
la consola para que algunos juegos sin licencia no funcionaran. Por ejemplo, 
"Action 52" y "Crystal Mines" no funcionan en mi NES americana. Si tu NES 
tiene la revision de placa NES-CPU-11, sera incapaz de ejecutar esos juegos. 
Inhabilitar el chip de bloqueo soluciona este problema.

Nintendo tambien utilizo el sistema de bloqueo para proporcionar "proteccion 
territorial". Esto significa que tu no puedes usar un juego americano en una 
consola Europea. Se utilizan al menos cuatro tipos diferentes de chips de 
bloqueo para las consolas Inglesas e Italianas, Europeas, Hong Kong y U.S.A. 
Un cartucho que contiene un chip de desbloqueo es incompatible con una 
consola con cualquiera de los otros chips.


Como Funciona el Sistema de Bloqueo
-----------------------------------
Esta es una breve descripcion. Consulta la patente de Nintendo para una
informacion mas detallada.

Chips identicos son anyadidos a la consola y en el interior de cada cartucho. 
Dependiendo de si el pin 4 del chip esta a masa o a +5V, el chip funciona 
como bloqueo o como llave. Dentro de la consola el pin 4 del chip esta a +5V 
(bloqueado), y dentro del cartucho el pin 4 esta a 0V (llave).

Cuando enciendes la NES, la CPU y PPU se mantienen en estado RESET. Los dos 
chips de bloqueo hablan entre si. Como los dos chips son identicos, ellos 
deberian decir los mismo al mismo tiempo. Cada chip compara su salida con la 
de su companyero. Si coinciden el chip libera el modo RESET de la consola y 
el juego comienza. Los dos chips se mantienen comunicados y si uno de ellos 
difiere del otro en algun momento, el chip de bloqueo hace que la consola se 
resetee repetidamente, y el chip de bloqueo del juego puede usar las lineas 
de seleccion de la ROM del cartucho para inhabilitarlo (aunque esta 
desactivacion de la ROM probablemente no fue hecha nunca).

El chip de bloqueo es en realidad un microprocesador de 4bit con su ROM y 
RAM internas. El programa en la ROM es llamado "10NES".


Como Funciona la Modificacion
-----------------------------
Se basa en cambiar el sistema de bloqueo para que piense que es la llave. Si
ambos dispositivos son configurados del mismo modo (ambos llave), citando de 
la patente de Nintendo "tiene lugar un estado inestable y no se lleva a cabo 
ninguna operacion." Esto significa que ninguno de los dos chips hara nada. 
Por lo tanto la consola no se reseteara, y el dispositivo llave no 
inhabilitara los chips ROM del cartucho.

Para llevar a  cabo la modificacion necesitas desconectar el pin 4 del chip 
de bloqueo, y conectar este pin a masa (0V). Si haces algo mal y el pin se 
rompe, no te preocupes. Eso es lo que me sucedio a mi, pero la consola 
funciona perfectamente. No es absolutamente necesario conectar el pin 4 a 
0V; dejandolo al aire tambien funciona.

Cuando estaba pensando en como evitar el sistema de bloqueo, se me
ocurrieron tres soluciones. La primera es la que ya he descrito.

La segunda es mas complicada y funciona de diferente manera. No he
intentado este metodo, por lo que no puedo decir si funciona.
Consiste en conectar la salida del chip con la entrada por lo que
el chip se comunicaria consigo mismo. Como la entrada sera siempre
igual a la salida, el chip pensara que el cartucho es correcto y no
reseteara la maquina.

El tercer metodo se basa en desconectar el reloj de 4Mhz del chip de
bloqueo en la consola y la pista de cobre que le lleva hasta el otro
chip en el cartucho. Esto deberia funcionar, si no hay reloj, los dos
dispositivos deberian ser bloqueados y no serian capaces de hacer nada.


Llevando a cabo la modificacion
-------------------------------
Necesitaras lo siguiente:
· Un destornillador de estrella adecuado para abrir la carcasa de la NES
  y retirar los tornillos del interior;
· Unas pequenyas tijeras para cortar el pin;
· Opcionalmente un soldador/desoldador y un cable de 2cm;

Las consolas de videojuegos, al igual que la mayoria de los aparatos
electronicos modernos, son muy sensibles a la ELECTRICIDAD ESTATICA. Lo 
ideal es llevar una munyequera que descargue la electricidad estatica a
tierra y trabajar sobre una superficie conductora. En cualquier caso , evita
tocar las patillas de los componentes o las pistas de la placa. Sujeta la
placa por sus extremos.


¡Al retirar los tornillos estate seguro de que recuerdas cual va en cada 
agujero! Aqui estan las instrucciones paso a paso:

1.  Desconecta todos los perifericos, incluyendo el adaptador AC de tu 
    consola.
    Pulsa el interruptor de la NES espera un par de segundos y despues 
    vuelve pulsar para poner el interruptor en off. Durante esta operacion puede 
    que veas que el led se enciende momentaneamente. Esto prueba que hemos 
    disipado cualquier carga que la consola pudiera tener. ES MUY IMPORTANTE QUE 
    HAGAS ESTO, SI NO PODRIAS DAnyAR TU CONSOLA.
2.  Retira los seis tornillos de la base de tu NES y levanta la carcasa.
3.  Retira los siete tornillos que sujetan la proteccion metalica superior.
4.  Retira los dos tornillos que hay cerca del modulador. Uno esta a la 
    izquierda de la salida RF y el otro a la derecha de las salidas de AUDIO/VIDEO.
5.  Retira los seis tornillos que sujetan la bandeja del cartucho a la 
    placa. Puedes quitar los conectores para que los cables no te molesten y sacar 
    la placa a tu voluntad. Yo no lo hice por que las cosas cuando se vuelven a
    conectar no suelen funcionar, asi que hice todo con la placa conectada.
6.  Ahora levanta con cuidado la placa con la proteccion metalica inferior y
    la bandeja del cartucho y retira la proteccion metalica inferior.
7.  Desliza la bandeja del cartucho hacia adelanten, quitandola de la placa 
    y el conector. Puedes dejar el conector en la placa.
8.  Da la vuelta a la placa dejando los componentes hacia arriba y en el 
    sentido que puedas leer correctamente las letras de los componentes.
9.  Lee el numero de revision de la placa; esta imprimido en blanco cerca 
    del centro de la placa. Por ejemplo, "NES-CPU-11". Hay una pegatina blanca 
    en la placa que nos dice que tipo de consola tenemos. Por ejemplo en 
    consolas Europeas podemos leer "PAL-EEC", en las de Hong Kong "PAL-ASI" y en las
    Americanas "NTSC"

10. Encuentra el chip de bloqueo. "U10 CIC" estara imprimido sobre el 
    chip en la placa.El numero despues de la U no es importante, pero que ponga CIC
    si. El texto sobre el chip en una consola de Gran Bretanya es el siguiente.
                                 15
                                | | | | | | | |
                                ---------------
                                    3197A
                                 (c) 1986 Nintendo
                                    9213 A
                                ---------------
                                | | | | | | | |
                                      4
    Otros numeros son 3193A (America), 3195A (Europa) y 3196A (Hong Kong). 
    El chip tiene 16 pines. No te preocupes por que el codigo de la tercera linea no
    coincida, es normal. El de la primera sera 3195A para las consolas 
    Espanyolas.
11. Identifica el pin 4 en el chip. En la fila mas cercana a ti, el cuarto
    comenzando a contar por la izquierda.
12. Hay que cortar el pin 4. Quiza necesites mover o desoldar el condensador
    que hay al lado del pin, aunque yo recomiendo buscar unas tijeras pequenyas
    y no mover nada. Si algo va mal y el pin se rompe por completo, no te
    preocupes, si lo dejas al aire tambien funciona. Podria ayudar desoldar
    el pin primero y cortar tan cerca de la placa como sea posible.
    Una manera mas limpia de hacer esto, es desoldar el chip completo, doblar
    el pin 4 y soldar el chip dejando el pin 4 sin soldar. Sin embargo, esto es
    muy dificil a no ser que dispongas una herramienta especial para desoldar
    circuitos integrados.
13. Este paso es opcional. Es suficiente con dejar el pin 4 al aire. Pero
    puedes conectarlo a masa si quieres, y esta es la manera correcta de llevar
    a cabo la modificacion.
    Suelda un pequenyo cable al pin 4 y a uno de los siguientes pines 11,12,13
    14 o 15 del chip de bloqueo, ya que todos van a masa. El pin 15 es el
    segundo empezando a contar por la izquierda en la fila mas lejana a ti.
14. YA ESTA! Rearma la consola y conectala sin introducir el cartucho. Deberia
    mostrar una pantalla estable (generalmente azul) sin ningun efecto de
    parpadeo.
15. DISFRUTA DE TU NES "UNIVERSAL"

---


  Espero que tengais un buen rato con vuestros juegos. Pero tened en cuenta
  que no todo es jugar en esta vida. Que el mundo es algo mas que un munyeco
  en dos dimensiones. Que hay gente que sufre y muere por la politica de
  nuestros gobiernos y empresas.

       "SI NO TIENES CUIDADO, LOS MEDIOS DE COMUNICACION
        HARAN QUE ODIES A LOS OPRIMIDOS Y QUE AMES
        A LOS OPRESORES"


            AUTOGESTION Y ANARKIA


				 by chinaski

*EOF*