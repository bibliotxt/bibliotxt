   ______   ______   ______   ______   ______   ______   ______   ______
  |  ____| |  ____| |  ____| |  ____| |  ____| |  ____| |  ____| |  ____|      
__| |______| |______| |______| |______| |______| |______| |______| |________
----------------------------------------------------------------------------
Codigo     Titulo                                                Autor
SWP05-07   GOoBGLEando.PE                                        ReYDeS
----------------------------------------------------------------------------


  El  presente   texto  esta   basado  en   un   articulo  aparecido   en  la
SecurityFocus. Ya  habia tenido conocimiento  de esto hace mucho tiempo, pero
por falta de tiempo  y de muertes neuronales, se perdio esta informacion para
mi, en el tiempo. 

  Lo que se hara  en el presente escrito; es exponer eso mismo; pero aplicado
a la  realidad de los servidores  Peruanos. Sobre todo  los mas interesantes,
como pueden ser los servidores del Gobierno Peruanos. ;) 

  Aclarar, que  no estoy induciendo  a realizar 'acciones' raras.  Expongo la
presente informacion  la cual es accesible  por cualquiera. Lo  que hagan con
esa informacion es su responsabilidad. [Siempre son buenas las aclaraciones.]

  No  estoy reinventando  la rueda,  asi es  que sus  criticas  constructivas
seran bienvenidas, las demas... tambien. :? 

  Empezamos...


-> Un breve indice:

   + "Google."

   + "Busquedas avanzadas."

   + "Busquedas no tan inocentes."


 ______________
| + "Google:"

  Quien no conoce a Google?.  Tendrias que ser un extraterrestre. Aunque creo
que  hasta  los  extraterrestres lo  conocen.  [Y  no  me  refiero a  los  NO
pertenecientes al planeta tierra.]

  Google es mas  que un simple buscador de informacion,  y eso es ampliamente
reconocido. Los metodos  que utiliza Google para que  los usuarios encuentren
informacion, hacen  dificil la manipulacion  de los resultados  mostrados por
Google, por parte  de aquellos que 'proveen' la informacion.  Lo usual en los
inicios  de  internet  y  los  primeros buscadores  de  informacion,  era  la
utilizacion  de  los  META  TAGS,   lo  cual  era  'relativamente'  de  facil
manipulacion. Ahora esto es mucho  mas complicado. Muchisima gente [notese el
superlativo] deseria conocer  cuales son los metodos o  criterios que utiliza
Google para que sus paginas tengan mas relevancia que otras en los resultados
de  busquedas,  mostradas  por  Google;  con  la  consecuente  'ganancia'  de
visitantes que ello implique.

  Existe  lo que se  denomida 'google  hacks', que  no son  mas que  'tips' o
alcances serios,  de aquellos  puntos a tomar  en consideracion, para  que un
sitio web obtenga un relativamente  buen posicionaniemto en los resultados de
busqueda. Otro  punto a destacar es  el sistema PAGERANK  que utiliza google,
aunado y combinado a mas caracteristicas. 

  Esto seria motivo de un tema aparte; y claro esta; hay libros enteros sobre
google hacks,  pero no es motivo  del presente escrito, solo  queria hacer un
intro. [F#]


 ___________________________
| + "Busquedas avanzadas:"

  Lo que el comun de las  personas hace cuando inician su busqueda en Google,
es utilizar el signo '+' o '-', ya sea para incluir o excluir dichos terminos
en las busquedas; respectivamente. De  igual misma manera, es comun encontrar
busquedas con '" "' [entrecomillado], para una busqueda exacta de la frase en
cuestion. 

  Las busquedas avanzadas se basan en operadores avanzados ;) [Redundancia de
traduccion].  

  Asi  que enfoquemonos  en  dichos  'operadores'. Obvio,  que  esto ha  sido
extraido de la pagina de google. [Para los despistados.] 


  cache:            site:
  link:             allintitle:
  related:          intitle:
  info:             allinurl:
  define:           inurl:
  stocks:
 

  Notese los  dos puntos [:]  finales, que son  parte de estos  operadores. A
continuacion se inicia la descripcion de los antes operadores antes listados. 

   ________
  | cache:    
             
  Este operador mostrara  la version de la Pagina Web  que ha sido almacenada
en el CACHE  de Google; claro que;  no es la version actual,  sino la version
que Google almaceno en  un momento determinado. Consecuentemente se 'obtiene'
la informacion  de dicha web  de manera mas  rapida [No se hace  una peticion
real  a la  pagina original  GET].  Puede utilizarse  directamente cuando  se
realizan busquedas  normales, ya  que cada resultado  de busqueda  tiene esta
opcion asociada.    

   ________
  | link:

  Una consulta realizada con este  operador, mostrara Paginas Webs que tienen
'enlaces' a una Pagina Web especificada. [Simple] 

   ___________
  | related:

  Este operador listara  las Paginas Webs que son similares  a una pagina web
especificada. [Mas simple que lo anterior :)]

   ________
  | info:

  Mostrara alguna informacion relevante que  tenga Google sobre la Pagina Web
en cuestion. Tambien  puede obtenerse esta informacion tipeando  la URL de la
Pagina Web directamente en la consulta. 

   __________
  | define:

  Proporciona una definicion  de las palabras que se  ingresan; para hacer un
simil; es como diccionario. [Aunque la comparacion resulte paradogica]

   _________
  | stocks:

  Si se inicia la consulta con  este operador, Google tratara los terminos de
la consula  como simbolos  y enlazara a  paginas que muestren  informacion de
estos simbolos.  

  [Antes  de que  me duerma,  vamos  a lo  mas interesante  para el  presente
escrito.] 


  + Modificadores de consulta:

   ________
  | site:

  Google  restringe los  resultados  a  aquellos Sitios  Webs  en el  dominio
proporcionado. 

   ______________
  | allintitle:

  Google  restringe los  resultados  a aquellos,  que  contienen 'todas'  las
palabras de la consulta, en el titulo. 

   ___________
  | intitle:

  Google restringe los resultados, a  los documentos que contienen la palabra
que se consulta, en el titulo. 

  Colocar 'intitle:'  en cada palabra de  la consulta, es  similar a utilizar
'allintitle:'

   ____________
  | allinurl:

  Google restringe los  resultados, a todas aquellas palabras  de la consulta
en la URL. Esto trabaja sobre palabras, no sobre URLs. 

   _________
  | inurl:

  Google restringe los resultados, a documentos que contienen las palabras de
consulta en la URL. 

  Al igual  que en el caso de  'intitle:', el colocar 'inurl:'  antes de cada
termino de la busqueda, es similar a utilizar 'allinurl:'


 __________________________________
| + "Busquedas NO tan inocentes:"

  Para cuando  salga el  presente escrito  tal vez algunas  de las  URLs aqui
mostradas; o mejor  seria decir; que algunos de  los resultados mostrados por
Google, no funcionen. [Por obvias razones] 

  La mayoria de indexadores o buscadores, 'atrapa' toda la informacion de los
diferentes  sitios web,  para controlar esto,  existe  un archivo  denominado
robots.txt, el cual  tiene como proposito indicar a  los buscadores QUE deben
indexar  y que  no.  Ademas  de otras  caracteristicas.  [Mas informacion  al
respecto en la parte final de referencias.] 

  Teniendo  en  mente lo  anteriormente  comentado,  continuamos  a la  parte
practica del presente escrito: >:)

  Para lo  siguiente, se  presentara primero la  'consulta', luego la  URL, y
algunos resultados de busqueda. Empezamos:


  Realizamos una busqueda inocente de los dominios .pe [Notese inocente.]

  | http://www.google.com.pe/search?q=.pe&ie=UTF-8&oe=UTF-8&hl=es&meta=

  Lo cual es correcto pero tambien nos muestra enlaces a paginas tipo 'pe.ka'
que no tienen relacion directa con dominios PE que se desea. ;)


  Para esto utilizamos a 'site:'

  | http://www.google.com.pe/search?hl=es&ie=UTF-8&oe=UTF-8&q=site%3Ape&meta=

  Claro, esto esta mejor, obtenemos 723000 resultados.


  Ahora Busquemos solo 'gob.pe'

  | http://www.google.com.pe/search?hl=es&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe&meta=

  148000  Resultados  con   informacion  relevante  contenida  en  servidores
pertenecientes al Gobierno del Peru.


  Ahora algo mas 'sano'. Si si, lo primero que se viene a la mente es ver que
informacion relevante se puede hallar sobre la palabra 'password'. 

  site:gob.pe password

  | http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe+password

  Llama la atencion el siguiente enlace:

  | http://www.minsa.gob.pe/disas/disa_iv/loginE11.htm

  Donde se aprecian cosas como esta: A que les parece familiar? 

--->

'sqltxt="Select * from usuarios where usuario='"&usuario&"' and password= '"&password&"'" 'response.write sqltxt 'rs.Open sqltxt, conn 'rs.Open sqltxt, conec if usuario = "B0001" and Password = "3243" then response.redirect "bases.htm" elseIF usuario = "B0002" and Password = "3654" then response.redirect "bases.htm"

<---

  [interjeccion de sorpresa]

  | http://www.onpe.gob.pe/pff/pff_chat/information/docs/installation.html

--->

Develooping flash chat. Installation
http://www.onpe.gob.pe/pff/

<---

  [Diantres! Es en serio?]


  Otra URL obtenida en la busqueda:

  | http://www.mef.gob.pe/peruinv/esp/noticias/noticias.asp

  Aqui tambien algo de codigo ASP. Y  segun la consulta online a un amigo que
conocedor de  estos temas 'MS',  esto seria debido  a que su servidor  web no
tiene soporte para ASP o esta mal instalado, consecuentemente trata el codigo
como HTML. Tambien me hace notar esta linea: 

--->

   <p><%set Ob_rs=createobject("ADODB.Recordset")
SQLtxt = "SELECT noticias.fecha, medios.medio, noticias.sumilla, noticias.noticia FROM noticias,medios" &_
	" WHERE noticias.cod_medio = medios.cod_medio ORDER BY noticias.fecha desc"
Ob_rs.open sqltxt,"DSN=conite;user=conite;password=julio"

<---


  Pasamos a otra URL:

  | http://www.muniarequipa.gob.pe/varios/telefonos.php

  Un 'poco' de desconfiguracion, con revelacion de rutas y algo mas. ;)

  Bueno el que tenga tiempo que revise mas enlaces.


  Ahora intentemos algo mas intenso :P

-> Alguien dijo spam?

  [Que desagradable que son los spammers.]

  site:gob.pe hotmail.com

  | http://www.google.com.pe/search?q=site%3Agob.pe+hotmail.com&hl=es&ie=UTF-8&oe=UTF-8

  A recolectar emails! Solo 517 resultados.


  site:gob.pe filetype:ini

  | http://www.onpe.gob.pe/complementarias2003/object/site.ini

--->

  root = "/onpe"

<---

  [?? Y eso?]


  Vale,  ahora usemos  otras caracteristicas  para las  busquedas, 'intitle:'
puede ser una opcion, una prueba simple. 

  site:gob.pe intitle: "index of" ws_ftp.log

  | http://www.google.com.pe/search?hl=es&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe+intitle%3A%22index+of%22+ws_ftp.log&meta=

  Se revelan algunos datos interesantes, para algo mas elaborado.

  | http://www.concytec.gob.pe/adip/WS_FTP.LOG

--->

98.03.19 11:44 B I:\USERS\CENDICYT\WEB\adip\proyecto.htm <-- Sun Concytec /export/htdocs/adip proyecto.htm
98.06.12 16:48 B D:\notes\data\domino\html\adip\ADIP.JPG --> 200.10.85.25 /export/htdocs/adip ADIP.JPG
9

<---

  [Bueno, eso entre otras cosas mas.]


  site:gob.pe intitle:"index of" mdb

  | http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe+intitle%3A%22index+of%22+mdb

  Lo que llama la atencion son los 44 megas de un file de esta url: Si
alguien lo 'baja' me dice de que es. ;)

  | http://www.minedu.gob.pe/gestion_pedagogica/dir_edu_inicial_primaria/cambio_curricular/basecpub/

-->

web.mdb                 18-May-2000 20:34  44.0M  

Apache/1.3.27 Server at www.minedu.gob.pe Port 80

<--

  
  Acotar que existen webs; como la  que listo en la parte de referencias; que 
se   dedican  a  recopilar   tipo  de   informacion  devuelta   en  busquedas
especialmente formateadas. ;)   

  Como por ejemplo: Deteccion  de Servidores Web, tipos, versiones. Busquedas
que revelan servidores con vulnerabilidades especificas.  

  Ejemplo practico:

  site:gob.pe powered

  | http://www.google.com/search?q=site:gob.pe+powered&hl=en&lr=&ie=UTF-8&oe=UTF-8&start=10&sa=N

  Esto devuelve; entre otras URLs:

--->

Oracle HTTP Server Powered
by Apache/1.3.19 Server at www.sunass.gob.pe/index.htm Port 80 

Powered by AnyBoard. Powered by mvnForum  Portal powered by FreeFind

<---

  [Buena combinacion]


  Y asi sucesivamente:

  site:gob.pe powered+phpbb

  | http://www.google.com/search?q=site:gob.pe+powered%2Bphpbb&hl=en&lr=&ie=UTF-8&oe=UTF-8&filter=0

--->

  Powered by phpBB 2.0.6 © 2001, 2002 phpBB Group etc.

<---

  Vamos acabando este texto de una buena vez. [ausencia de bebidas
energizantes :$]

  site:gob.pe database sql

  | http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe+database+sql

  Esta url esta. OK [OK, Pronunciese OC]

  | http://www.minsa.gob.pe/busqueda/Scripts/BusAva.asp

--->

Microsoft OLE DB Provider for SQL Server error '80004005'

Cannot open database requested in login 'busquedas'. Login fails.

/busqueda/Scripts/BusAva.asp, line 15

<---

 
  | http://dc.inictel.gob.pe/teleducacion/asp/cierres.asp

--->

Database Results Error
[Microsoft][ODBC SQL Server Driver][TCP/IP Sockets]Error general de red. Consulte la documentación de la red.

<---

  Arffffff! [Las BDs siempre son apasionantes]


  | http://www.pronaa.gob.pe/pronaa/emergente/emergente_fenocli.asp

--->

" response.write "LO SIENTO, NO SE ENCUENTRAN REGISTROS " response.write "
" response.end Else %>

<---

  Una mas... 

  site:gob.pe "Microsoft OLE DB Provider for SQL Server error "

  | http://www.google.com/search?q=site:gob.pe+%22Microsoft+OLE+DB+Provider+for+SQL+Server+error+%22&hl=en&lr=&ie=UTF-8&oe=UTF-8&filter=0



  Claro, diran solo se 'mete' con MS, na, vamos con uno de java:

  site:gob.pe error jsp

  | http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe+error+jsp

  www.sunass.gob.pe/pfare.jsp

--->

Request URI:/pfare.jsp

Exception:

java.io.FileNotFoundException: d:\oracle\isuites\apache\apache\htdocs\pfare.jsp (The system cannot find the file specified)
	at java.io.FileInputStream.open(Native Method)
<---


  Una con apache:

  site:gob.pe  "apache"

  | http://www.google.com/search?hl=en&lr=&ie=UTF-8&oe=UTF-8&q=site%3Agob.pe++%22apache%22

  | http://www.senamhi.gob.pe/pronosticos/clim/bol/cambio_climat.php

--->

Warning: Failed opening '/usr/local/apache/html/includes/cabecera.htm' for inclusion (include_path='.:/usr/local/lib/php') in /home/senamhi/pronosticos/clim/bol/cambio_climat.php on line 78

<---
  
  [Pronosticos climatologicos fallidos] Etc, etc etc. 

  Creo que ya se entendio la idea. [Sostengan un craneo en la mano izquierda,
mirenlo fijamente e inspirense.]


  Con esto ultimo  ya podemos cerrar el presente  escrito. Esta informacion y
muchas mas, esta alli. Mientras seamos mortales y con fallas.

  Premisa  principal. Tratar de  revelar la  minima informacion  del sistema,
tanto interna como externamente. Un peque~o listado que baja a mi mente puede
ser: 

  - Listado de subdirectorios.
  - Comentarios en el codigo fuente.
  - Rutas absolutas.
  - Versiones del diferente soft instalado.
  - Comprobacion de revelacion de errores.
  - El correcto seteo del robots.txt
  - Y la lista sigue.


  Es  todo en  esta oportunidad.  Traten de  no hacer  muchas  travesuras por
alli. Recuerden que  son servidores del gobierno. Y OJO que  lo mismo que los
GOB.PE pude  haber tocado  a los edu.pe,  y demas.  Solo que para  motivos de
experimentar y  plasmar este texto me  oriente a los GOB.PE.  Que quede claro
que esta informacion es accesible desde Google. [Yo no he hecho nada mas.]

  Por  su  atencion  brindada,  Gracias.  Yo me  despido  hasta  una  proxima
oportunidad. 


Referencias:

http://www.securityfocus.com/columnists/224
http://www.google.com/help/operators.html
http://johnny.ihackstuff.com/index.php?module=prodreviews
http://www.robotstxt.org/
http://www.google.com ????? :)

                                     "Quien no dice una mentira...."
                                      G.N.

   ______   ______   ______   ______   ______   ______   ______   ______
  |  ____| |  ____| |  ____| |  ____| |  ____| |  ____| |  ____| |  ____|      
__| |______| |______| |______| |______| |______| |______| |______| |______
--------------------------------------------------------------------------

                      --                             --
			 Security Wari Projects / SWP  |
		      (c) Todos los Derechos Reservados
		     |     PERU / 2002 - 2004           
                      --                              --
